/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
let t=class extends Event{constructor(t,s,e){super("context-request",{bubbles:!0,composed:!0}),this.context=t,this.callback=s,this.subscribe=e??!1}};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
let s=class{constructor(t,s,e,i){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(t,s)=>{this.unsubscribe&&(this.unsubscribe!==s&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=t,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(t,s)),this.unsubscribe=s},this.host=t,void 0!==s.context){const t=s;this.context=t.context,this.callback=t.callback,this.subscribe=t.subscribe??!1}else this.context=s,this.callback=e,this.subscribe=i??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new t(this.context,this.t,this.subscribe))}},e=class{get value(){return this.o}set value(t){this.setValue(t)}setValue(t,s=!1){const e=s||!Object.is(t,this.o);this.o=t,e&&this.updateObservers()}constructor(t){this.subscriptions=new Map,this.updateObservers=()=>{for(const[t,{disposer:s}]of this.subscriptions)t(this.o,s)},void 0!==t&&(this.value=t)}addCallback(t,s,e){if(!e)return void t(this.value);this.subscriptions.has(t)||this.subscriptions.set(t,{disposer:()=>{this.subscriptions.delete(t)},consumerHost:s});const{disposer:i}=this.subscriptions.get(t);t(this.value,i)}clearCallbacks(){this.subscriptions.clear()}},i=class extends Event{constructor(t){super("context-provider",{bubbles:!0,composed:!0}),this.context=t}},r=class extends e{constructor(s,e,i){super(void 0!==e.context?e.initialValue:i),this.onContextRequest=t=>{const s=t.composedPath()[0];t.context===this.context&&s!==this.host&&(t.stopPropagation(),this.addCallback(t.callback,s,t.subscribe))},this.onProviderRequest=s=>{const e=s.composedPath()[0];if(s.context!==this.context||e===this.host)return;const i=new Set;for(const[s,{consumerHost:e}]of this.subscriptions)i.has(s)||(i.add(s),e.dispatchEvent(new t(this.context,s,!0)));s.stopPropagation()},this.host=s,void 0!==e.context?this.context=e.context:this.context=e,this.attachListeners(),this.host.addController?.(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new i(this.context))}},n=class{constructor(){this.pendingContextRequests=new Map,this.onContextProvider=s=>{const e=this.pendingContextRequests.get(s.context);if(void 0===e)return;this.pendingContextRequests.delete(s.context);const{requests:i}=e;for(const{elementRef:e,callbackRef:r}of i){const i=e.deref(),n=r.deref();void 0===i||void 0===n||i.dispatchEvent(new t(s.context,n,!0))}},this.onContextRequest=t=>{if(!0!==t.subscribe)return;const s=t.composedPath()[0],e=t.callback;let i=this.pendingContextRequests.get(t.context);void 0===i&&this.pendingContextRequests.set(t.context,i={callbacks:new WeakMap,requests:[]});let r=i.callbacks.get(s);void 0===r&&i.callbacks.set(s,r=new WeakSet),r.has(e)||(r.add(e),i.requests.push({elementRef:new WeakRef(s),callbackRef:new WeakRef(e)}))}}attach(t){t.addEventListener("context-request",this.onContextRequest),t.addEventListener("context-provider",this.onContextProvider)}detach(t){t.removeEventListener("context-request",this.onContextRequest),t.removeEventListener("context-provider",this.onContextProvider)}};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o=Symbol("search-context"),h=t=>(s,e)=>{void 0!==e?e.addInitializer((()=>{customElements.define(t,s)})):customElements.define(t,s)}
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,a=globalThis,l=a.ShadowRoot&&(void 0===a.ShadyCSS||a.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,c=Symbol(),d=new WeakMap;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let u=class{constructor(t,s,e){if(this._$cssResult$=!0,e!==c)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=s}get styleSheet(){let t=this.o;const s=this.t;if(l&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=d.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&d.set(s,t))}return t}toString(){return this.cssText}};const p=l?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let s="";for(const e of t.cssRules)s+=e.cssText;return(t=>new u("string"==typeof t?t:t+"",void 0,c))(s)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,{is:b,defineProperty:v,getOwnPropertyDescriptor:$,getOwnPropertyNames:f,getOwnPropertySymbols:m,getPrototypeOf:g}=Object,y=globalThis,w=y.trustedTypes,S=w?w.emptyScript:"",x=y.reactiveElementPolyfillSupport,k=(t,s)=>t,O={toAttribute(t,s){switch(s){case Boolean:t=t?S:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let e=t;switch(s){case Boolean:e=null!==t;break;case Number:e=null===t?null:Number(t);break;case Object:case Array:try{e=JSON.parse(t)}catch(t){e=null}}return e}},_=(t,s)=>!b(t,s),L={attribute:!0,type:String,converter:O,reflect:!1,hasChanged:_};Symbol.metadata??=Symbol("metadata"),y.litPropertyMetadata??=new WeakMap;class R extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=L){if(s.state&&(s.attribute=!1),this._$Ei(),this.elementProperties.set(t,s),!s.noAccessor){const e=Symbol(),i=this.getPropertyDescriptor(t,e,s);void 0!==i&&v(this.prototype,t,i)}}static getPropertyDescriptor(t,s,e){const{get:i,set:r}=$(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get(){return i?.call(this)},set(s){const n=i?.call(this);r.call(this,s),this.requestUpdate(t,n,e)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??L}static _$Ei(){if(this.hasOwnProperty(k("elementProperties")))return;const t=g(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(k("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(k("properties"))){const t=this.properties,s=[...f(t),...m(t)];for(const e of s)this.createProperty(e,t[e])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,e]of s)this.elementProperties.set(t,e)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const e=this._$Eu(t,s);void 0!==e&&this._$Eh.set(e,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const s=[];if(Array.isArray(t)){const e=new Set(t.flat(1/0).reverse());for(const t of e)s.unshift(p(t))}else void 0!==t&&s.push(p(t));return s}static _$Eu(t,s){const e=s.attribute;return!1===e?void 0:"string"==typeof e?e:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const e of s.keys())this.hasOwnProperty(e)&&(t.set(e,this[e]),delete this[e]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((t,s)=>{if(l)t.adoptedStyleSheets=s.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of s){const s=document.createElement("style"),i=a.litNonce;void 0!==i&&s.setAttribute("nonce",i),s.textContent=e.cssText,t.appendChild(s)}})(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,e){this._$AK(t,e)}_$EC(t,s){const e=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,e);if(void 0!==i&&!0===e.reflect){const r=(void 0!==e.converter?.toAttribute?e.converter:O).toAttribute(s,e.type);this._$Em=t,null==r?this.removeAttribute(i):this.setAttribute(i,r),this._$Em=null}}_$AK(t,s){const e=this.constructor,i=e._$Eh.get(t);if(void 0!==i&&this._$Em!==i){const t=e.getPropertyOptions(i),r="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:O;this._$Em=i,this[i]=r.fromAttribute(s,t.type),this._$Em=null}}requestUpdate(t,s,e){if(void 0!==t){if(e??=this.constructor.getPropertyOptions(t),!(e.hasChanged??_)(this[t],s))return;this.P(t,s,e)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,s,e){this._$AL.has(t)||this._$AL.set(t,s),!0===e.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,e]of t)!0!==e.wrapped||this._$AL.has(s)||void 0===this[s]||this.P(s,this[s],e)}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EU()}catch(s){throw t=!1,this._$EU(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}R.elementStyles=[],R.shadowRootOptions={mode:"open"},R[k("elementProperties")]=new Map,R[k("finalized")]=new Map,x?.({ReactiveElement:R}),(y.reactiveElementVersions??=[]).push("2.0.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const C={attribute:!0,type:String,converter:O,reflect:!1,hasChanged:_},j=(t=C,s,e)=>{const{kind:i,metadata:r}=e;let n=globalThis.litPropertyMetadata.get(r);if(void 0===n&&globalThis.litPropertyMetadata.set(r,n=new Map),n.set(e.name,t),"accessor"===i){const{name:i}=e;return{set(e){const r=s.get.call(this);s.set.call(this,e),this.requestUpdate(i,r,t)},init(s){return void 0!==s&&this.P(i,void 0,t),s}}}if("setter"===i){const{name:i}=e;return function(e){const r=this[i];s.call(this,e),this.requestUpdate(i,r,t)}}throw Error("Unsupported decorator location: "+i)};function P(t){return(s,e)=>"object"==typeof e?j(t,s,e):((t,s,e)=>{const i=s.hasOwnProperty(e);return s.constructor.createProperty(e,i?{...t,wrapped:!0}:t),i?Object.getOwnPropertyDescriptor(s,e):void 0})(t,s,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function T(t){return P({...t,state:!0,attribute:!1})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const E=globalThis,A=E.trustedTypes,U=A?A.createPolicy("lit-html",{createHTML:t=>t}):void 0,M="$lit$",q=`lit$${Math.random().toFixed(9).slice(2)}$`,F="?"+q,D=`<${F}>`,H=document,B=()=>H.createComment(""),N=t=>null===t||"object"!=typeof t&&"function"!=typeof t,I=Array.isArray,z="[ \t\n\f\r]",W=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,K=/-->/g,V=/>/g,J=RegExp(`>|${z}(?:([^\\s"'>=/]+)(${z}*=${z}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),G=/'/g,Z=/"/g,Q=/^(?:script|style|textarea|title)$/i,X=(t=>(s,...e)=>({_$litType$:t,strings:s,values:e}))(1),Y=Symbol.for("lit-noChange"),tt=Symbol.for("lit-nothing"),st=new WeakMap,et=H.createTreeWalker(H,129);function it(t,s){if(!I(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==U?U.createHTML(s):s}class rt{constructor({strings:t,_$litType$:s},e){let i;this.parts=[];let r=0,n=0;const o=t.length-1,h=this.parts,[a,l]=((t,s)=>{const e=t.length-1,i=[];let r,n=2===s?"<svg>":3===s?"<math>":"",o=W;for(let s=0;s<e;s++){const e=t[s];let h,a,l=-1,c=0;for(;c<e.length&&(o.lastIndex=c,a=o.exec(e),null!==a);)c=o.lastIndex,o===W?"!--"===a[1]?o=K:void 0!==a[1]?o=V:void 0!==a[2]?(Q.test(a[2])&&(r=RegExp("</"+a[2],"g")),o=J):void 0!==a[3]&&(o=J):o===J?">"===a[0]?(o=r??W,l=-1):void 0===a[1]?l=-2:(l=o.lastIndex-a[2].length,h=a[1],o=void 0===a[3]?J:'"'===a[3]?Z:G):o===Z||o===G?o=J:o===K||o===V?o=W:(o=J,r=void 0);const d=o===J&&t[s+1].startsWith("/>")?" ":"";n+=o===W?e+D:l>=0?(i.push(h),e.slice(0,l)+M+e.slice(l)+q+d):e+q+(-2===l?s:d)}return[it(t,n+(t[e]||"<?>")+(2===s?"</svg>":3===s?"</math>":"")),i]})(t,s);if(this.el=rt.createElement(a,e),et.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(i=et.nextNode())&&h.length<o;){if(1===i.nodeType){if(i.hasAttributes())for(const t of i.getAttributeNames())if(t.endsWith(M)){const s=l[n++],e=i.getAttribute(t).split(q),o=/([.?@])?(.*)/.exec(s);h.push({type:1,index:r,name:o[2],strings:e,ctor:"."===o[1]?lt:"?"===o[1]?ct:"@"===o[1]?dt:at}),i.removeAttribute(t)}else t.startsWith(q)&&(h.push({type:6,index:r}),i.removeAttribute(t));if(Q.test(i.tagName)){const t=i.textContent.split(q),s=t.length-1;if(s>0){i.textContent=A?A.emptyScript:"";for(let e=0;e<s;e++)i.append(t[e],B()),et.nextNode(),h.push({type:2,index:++r});i.append(t[s],B())}}}else if(8===i.nodeType)if(i.data===F)h.push({type:2,index:r});else{let t=-1;for(;-1!==(t=i.data.indexOf(q,t+1));)h.push({type:7,index:r}),t+=q.length-1}r++}}static createElement(t,s){const e=H.createElement("template");return e.innerHTML=t,e}}function nt(t,s,e=t,i){if(s===Y)return s;let r=void 0!==i?e.o?.[i]:e.l;const n=N(s)?void 0:s._$litDirective$;return r?.constructor!==n&&(r?._$AO?.(!1),void 0===n?r=void 0:(r=new n(t),r._$AT(t,e,i)),void 0!==i?(e.o??=[])[i]=r:e.l=r),void 0!==r&&(s=nt(t,r._$AS(t,s.values),r,i)),s}class ot{constructor(t,s){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:s},parts:e}=this._$AD,i=(t?.creationScope??H).importNode(s,!0);et.currentNode=i;let r=et.nextNode(),n=0,o=0,h=e[0];for(;void 0!==h;){if(n===h.index){let s;2===h.type?s=new ht(r,r.nextSibling,this,t):1===h.type?s=new h.ctor(r,h.name,h.strings,this,t):6===h.type&&(s=new ut(r,this,t)),this._$AV.push(s),h=e[++o]}n!==h?.index&&(r=et.nextNode(),n++)}return et.currentNode=H,i}p(t){let s=0;for(const e of this._$AV)void 0!==e&&(void 0!==e.strings?(e._$AI(t,e,s),s+=e.strings.length-2):e._$AI(t[s])),s++}}let ht=class t{get _$AU(){return this._$AM?._$AU??this.v}constructor(t,s,e,i){this.type=2,this._$AH=tt,this._$AN=void 0,this._$AA=t,this._$AB=s,this._$AM=e,this.options=i,this.v=i?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const s=this._$AM;return void 0!==s&&11===t?.nodeType&&(t=s.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,s=this){t=nt(this,t,s),N(t)?t===tt||null==t||""===t?(this._$AH!==tt&&this._$AR(),this._$AH=tt):t!==this._$AH&&t!==Y&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):(t=>I(t)||"function"==typeof t?.[Symbol.iterator])(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==tt&&N(this._$AH)?this._$AA.nextSibling.data=t:this.T(H.createTextNode(t)),this._$AH=t}$(t){const{values:s,_$litType$:e}=t,i="number"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=rt.createElement(it(e.h,e.h[0]),this.options)),e);if(this._$AH?._$AD===i)this._$AH.p(s);else{const t=new ot(i,this),e=t.u(this.options);t.p(s),this.T(e),this._$AH=t}}_$AC(t){let s=st.get(t.strings);return void 0===s&&st.set(t.strings,s=new rt(t)),s}k(s){I(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,r=0;for(const n of s)r===e.length?e.push(i=new t(this.O(B()),this.O(B()),this,this.options)):i=e[r],i._$AI(n),r++;r<e.length&&(this._$AR(i&&i._$AB.nextSibling,r),e.length=r)}_$AR(t=this._$AA.nextSibling,s){for(this._$AP?.(!1,!0,s);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){void 0===this._$AM&&(this.v=t,this._$AP?.(t))}};class at{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,s,e,i,r){this.type=1,this._$AH=tt,this._$AN=void 0,this.element=t,this.name=s,this._$AM=i,this.options=r,e.length>2||""!==e[0]||""!==e[1]?(this._$AH=Array(e.length-1).fill(new String),this.strings=e):this._$AH=tt}_$AI(t,s=this,e,i){const r=this.strings;let n=!1;if(void 0===r)t=nt(this,t,s,0),n=!N(t)||t!==this._$AH&&t!==Y,n&&(this._$AH=t);else{const i=t;let o,h;for(t=r[0],o=0;o<r.length-1;o++)h=nt(this,i[e+o],s,o),h===Y&&(h=this._$AH[o]),n||=!N(h)||h!==this._$AH[o],h===tt?t=tt:t!==tt&&(t+=(h??"")+r[o+1]),this._$AH[o]=h}n&&!i&&this.j(t)}j(t){t===tt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class lt extends at{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===tt?void 0:t}}class ct extends at{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==tt)}}class dt extends at{constructor(t,s,e,i,r){super(t,s,e,i,r),this.type=5}_$AI(t,s=this){if((t=nt(this,t,s,0)??tt)===Y)return;const e=this._$AH,i=t===tt&&e!==tt||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,r=t!==tt&&(e===tt||i);i&&this.element.removeEventListener(this.name,this,e),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class ut{constructor(t,s,e){this.element=t,this.type=6,this._$AN=void 0,this._$AM=s,this.options=e}get _$AU(){return this._$AM._$AU}_$AI(t){nt(this,t)}}const pt={I:ht},bt=E.litHtmlPolyfillSupport;bt?.(rt,ht),(E.litHtmlVersions??=[]).push("3.2.0");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class vt extends R{constructor(){super(...arguments),this.renderOptions={host:this},this.o=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this.o=((t,s,e)=>{const i=e?.renderBefore??s;let r=i._$litPart$;if(void 0===r){const t=e?.renderBefore??null;i._$litPart$=r=new ht(s.insertBefore(B(),t),t,void 0,e??{})}return r._$AI(t),r})(s,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this.o?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this.o?.setConnected(!1)}render(){return Y}}vt._$litElement$=!0,vt.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:vt});const $t=globalThis.litElementPolyfillSupport;$t?.({LitElement:vt}),(globalThis.litElementVersions??=[]).push("4.1.0");var ft=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};class mt extends vt{constructor(){super(...arguments),this.uid=this.genUniqId()}createRenderRoot(){return this.style.display="block",this}updateContext(t){const s=new CustomEvent("update-context",{bubbles:!0,composed:!0});s.context=t,this.dispatchEvent(s)}applyFacet(t,s,e=!1){const i=new URLSearchParams(this.context?.query?.toString()),r=`f[${t}]`;e&&i.delete(r),i.getAll(r).includes(s)?i.delete(r,s):i.append(r,s),i.delete("page"),this.getResults(i)}clearFacet(t){const s=new URLSearchParams(this.context?.query?.toString()),e=`f[${t}]`;s.delete(e),s.delete("page"),this.getResults(s)}clearFacets(){const t=new URLSearchParams(this.context?.query?.toString()),s=[];t.forEach(((t,e)=>{e.startsWith("f[")&&s.push(e)})),s.forEach((s=>t.delete(s))),t.has("page")&&t.delete("page"),this.getResults(t)}async getResults(t){new URL(window.location.href).search=t.toString();const s={...this.context};s.query=t;let e=t;this.context?.additionalParams&&(e=new URLSearchParams(new URLSearchParams(this.context.additionalParams).toString()+"&"+t.toString())),[s.response]=await Promise.all([mt.doSearch(s.url??"",e)]),this.context={...s},this.updateContext(s)}static async doSearch(t,s){const e=new URLSearchParams(s.toString());let i=0;for(const[t,r]of s.entries()){if(!t.startsWith("f["))continue;e.delete(t);let s=t.replace("f[","");s=s.substring(0,s.length-1),e.append(`f[${i}]`,`${s}:${r}`),i++}const r=new URL(t);return r.search=e.toString(),mt.doFetch(r,void 0).then((t=>t))}static async doFetch(t,s=void 0){const e=new Headers(s);return fetch(t,{headers:e,cache:"no-store"}).then((async t=>{const s=await t.text();if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}. Message:${s}`);return Promise.resolve(JSON.parse(s))})).catch((t=>console.error("Error in fetching:",t)))}safeIdentifier(t){return t.replace(/\W/g,"-")}genUniqId(t=""){return(t?`${t}-`:"")+Math.random().toString(36).slice(2,9)}}ft([
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function({context:t,subscribe:e}){return(i,r)=>{"object"==typeof r?r.addInitializer((function(){new s(this,{context:t,callback:t=>{this[r.name]=t},subscribe:e})})):i.constructor.addInitializer((i=>{new s(i,{context:t,callback:t=>{i[r]=t},subscribe:e})}))}}({context:o,subscribe:!0}),P({attribute:!1})],mt.prototype,"context",void 0),ft([T()],mt.prototype,"uid",void 0);var gt=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let yt=class extends vt{constructor(){super(...arguments),this.context={url:"",query:new URLSearchParams(window.location.search),responseReady:!1,defaultPerPage:"10",updateUrl:!0,resultDisplay:"list",additionalParams:"",dialogOpen:!1,dialogBreakpoint:0,thirdPartySettings:{}},this.url="",this.additionalParams="",this.defaultPerPage="10",this.defaultResultDisplay="list",this.noPageUrlUpdate=!1,this.dialogBreakpoint=-1,this.root=new n}createRenderRoot(){return this.style.display="block",this}async connectedCallback(){super.connectedCallback();const t={...this.context};let s;if(this.url){const[e,i]=this.url.split("?");e.startsWith("/")?t.url=new URL(e,document.baseURI).href:t.url=e,i&&(s=new URLSearchParams(i))}if(t.defaultPerPage=this.defaultPerPage,t.resultDisplay=this.defaultResultDisplay,t.dialogBreakpoint=this.dialogBreakpoint,this.noPageUrlUpdate&&(t.updateUrl=!1),t.query&&!this.noPageUrlUpdate||(t.query=new URLSearchParams),s){let e=!0;const i=["q","page","limit","sort","order"];t.query.forEach(((t,s)=>{(i.includes(s)&&""!==t||s.startsWith("f["))&&(e=!1)})),(0===t.query.size||e)&&(t.query=s,this.context.query=s)}t.additionalParams=this.additionalParams;let e=t.query;this.additionalParams&&(e=new URLSearchParams(new URLSearchParams(this.additionalParams).toString()+"&"+e.toString())),t.response=await mt.doSearch(t.url??"",e),t.responseReady=!0,this.context=t,this.addEventListener("update-context",(t=>{this.context={...this.context,...t.context}}))}};gt([
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function({context:t}){return(s,e)=>{const i=new WeakMap;if("object"==typeof e)return e.addInitializer((function(){i.set(this,new r(this,{context:t}))})),{get(){return s.get.call(this)},set(t){return i.get(this)?.setValue(t),s.set.call(this,t)},init(t){return i.get(this)?.setValue(t),t}};{s.constructor.addInitializer((s=>{i.set(s,new r(s,{context:t}))}));const n=Object.getOwnPropertyDescriptor(s,e);let o;if(void 0===n){const t=new WeakMap;o={get:function(){return t.get(this)},set:function(s){i.get(this).setValue(s),t.set(this,s)},configurable:!0,enumerable:!0}}else{const t=n.set;o={...n,set:function(s){i.get(this).setValue(s),t?.call(this,s)}}}return void Object.defineProperty(s,e,o)}}}({context:o}),T()],yt.prototype,"context",void 0),gt([P()],yt.prototype,"url",void 0),gt([P()],yt.prototype,"additionalParams",void 0),gt([P()],yt.prototype,"defaultPerPage",void 0),gt([P()],yt.prototype,"defaultResultDisplay",void 0),gt([P({type:Boolean})],yt.prototype,"noPageUrlUpdate",void 0),gt([P({type:Number})],yt.prototype,"dialogBreakpoint",void 0),yt=gt([h("search-root")],yt);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const wt=2,St=t=>(...s)=>({_$litDirective$:t,values:s});class xt{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,s,e){this.t=t,this._$AM=s,this.i=e}_$AS(t,s){return this.update(t,s)}update(t,s){return this.render(...s)}}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:kt}=pt,Ot=()=>document.createComment(""),_t=(t,s,e)=>{const i=t._$AA.parentNode,r=void 0===s?t._$AB:s._$AA;if(void 0===e){const s=i.insertBefore(Ot(),r),n=i.insertBefore(Ot(),r);e=new kt(s,n,t,t.options)}else{const s=e._$AB.nextSibling,n=e._$AM,o=n!==t;if(o){let s;e._$AQ?.(t),e._$AM=t,void 0!==e._$AP&&(s=t._$AU)!==n._$AU&&e._$AP(s)}if(s!==r||o){let t=e._$AA;for(;t!==s;){const s=t.nextSibling;i.insertBefore(t,r),t=s}}}return e},Lt=(t,s,e=t)=>(t._$AI(s,e),t),Rt={},Ct=t=>{t._$AP?.(!1,!0);let s=t._$AA;const e=t._$AB.nextSibling;for(;s!==e;){const t=s.nextSibling;s.remove(),s=t}},jt=(t,s,e)=>{const i=new Map;for(let r=s;r<=e;r++)i.set(t[r],r);return i},Pt=St(class extends xt{constructor(t){if(super(t),t.type!==wt)throw Error("repeat() can only be used in text expressions")}dt(t,s,e){let i;void 0===e?e=s:void 0!==s&&(i=s);const r=[],n=[];let o=0;for(const s of t)r[o]=i?i(s,o):o,n[o]=e(s,o),o++;return{values:n,keys:r}}render(t,s,e){return this.dt(t,s,e).values}update(t,[s,e,i]){const r=(t=>t._$AH)(t),{values:n,keys:o}=this.dt(s,e,i);if(!Array.isArray(r))return this.ut=o,n;const h=this.ut??=[],a=[];let l,c,d=0,u=r.length-1,p=0,b=n.length-1;for(;d<=u&&p<=b;)if(null===r[d])d++;else if(null===r[u])u--;else if(h[d]===o[p])a[p]=Lt(r[d],n[p]),d++,p++;else if(h[u]===o[b])a[b]=Lt(r[u],n[b]),u--,b--;else if(h[d]===o[b])a[b]=Lt(r[d],n[b]),_t(t,a[b+1],r[d]),d++,b--;else if(h[u]===o[p])a[p]=Lt(r[u],n[p]),_t(t,r[d],r[u]),u--,p++;else if(void 0===l&&(l=jt(o,p,b),c=jt(h,d,u)),l.has(h[d]))if(l.has(h[u])){const s=c.get(o[p]),e=void 0!==s?r[s]:null;if(null===e){const s=_t(t,r[d]);Lt(s,n[p]),a[p]=s}else a[p]=Lt(e,n[p]),_t(t,r[d],e),r[s]=null;p++}else Ct(r[u]),u--;else Ct(r[d]),d++;for(;p<=b;){const s=_t(t,a[b+1]);Lt(s,n[p]),a[p++]=s}for(;d<=u;){const t=r[d++];null!==t&&Ct(t)}return this.ut=o,((t,s=Rt)=>{t._$AH=s})(t,a),Y}});
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Tt=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};class Et extends mt{constructor(){super(...arguments),this.key="",this.overrideLabel="",this.showLabel=!1,this.showCount=!1,this.showReset=!1,this.resetText="Reset (@count)",this.closed=!1,this.showCountInCollapseLabel=!1,this.preferAttributes=!1,this.urlAlias="",this.optionsOpen=!0,this.facetConfigLoaded=!1,this.showMoreOpen=!1}connectedCallback(){super.connectedCallback(),this.optionsOpen=!this.closed}updated(t){if(this.facetConfigLoaded||!this.context?.responseReady)return;const s=this._getFacetData();s&&(this.urlAlias=s.settings.url_alias,this.showLabel=this._configOrAttribute(s.settings.show_title,this.showLabel),this.showCount=this._configOrAttribute(s.settings.widget.show_numbers,this.showCount),this.showReset=this._configOrAttribute(s.settings.widget.showReset,this.showReset),this.resetText=this._configOrAttribute(s.settings.widget.resetText,this.resetText),this.closed=this._configOrAttribute(s.settings.widget.closed,this.closed),this.optionsOpen=this._configOrAttribute(!s.settings.widget.closed,!this.closed),this.showCountInCollapseLabel=this._configOrAttribute(s.settings.widget.showCountInCollapseLabel,this.showCountInCollapseLabel),this.softLimit=this._configOrAttribute(Number(s?.settings.widget?.soft_limit?.limit),this.softLimit),this.softLimitLessLabel=this._configOrAttribute(s?.settings.widget?.soft_limit?.less_label,this.softLimitLessLabel),this.softLimitMoreLabel=this._configOrAttribute(s?.settings.widget?.soft_limit?.more_label,this.softLimitMoreLabel),this.facetConfigLoaded=!0)}_configOrAttribute(t,s){return this.preferAttributes?s:!("boolean"!=typeof s||!t&&!s)||(void 0!==t?t:s)}_getOptionId(t){const s=t.replace(/\W/g,"-");return`option-${this.uid}-${s}`}_getFacetData(){return this.context?.response?.facets.find((t=>t.key===this.key))}_getLabelElement(){const t=this._getFacetData(),s=this.overrideLabel?this.overrideLabel:t.label,e=`facet-label-${this.uid}`,i=t.active_values&&t.active_values.length>0;return X`<h2
      id="${e}"
      class="facet-label t-title-small t-uppercase s-stack-medium ${t.key}"
      role="heading"
      aria-level="2"
      ?active="${i}"
    >
      ${s}
    </h2>`}_getCollapsibleLabelElement(){const t=this._getFacetData(),s=this.overrideLabel?this.overrideLabel:t.label;return X`
      <button
        aria-expanded="${this.optionsOpen}"
        class="facet-label collapsible ${t.key} ${this.optionsOpen?"open":"closed"} c-bg-secondary s-box-small-v s-box-small-h"
        @click=${()=>this.optionsOpen=!this.optionsOpen}
        aria-controls="${"facet-collapse-"+this.uid}"
        aria-label="${s} facet filter"
      >
        <div class="facet-label-text">
          <h2 class="t-title-small t-uppercase c-content-primary">
            ${s}${this.showCountInCollapseLabel&&t.active_values?.length?`(${t.active_values.length})`:null}
          </h2>
        </div>
        <span class="i-chevron-down" aria-hidden="true"></span>
      </button>
    `}_getSoftLimitElement(){const t=this._getFacetData();return!this.softLimit||t.results.length<=this.softLimit?X``:X`<button
      aria-expanded="${this.showMoreOpen}"
      class="facet-show-more ${t.key} ${this.showMoreOpen?"open":"closed"}"
      @click=${()=>this.showMoreOpen=!this.showMoreOpen}
      aria-controls="${"facet-options-collapse-"+this.uid}"
    >
      ${this.showMoreOpen?this.softLimitLessLabel:this.softLimitMoreLabel}
    </button>`}wrapCollapsible(t,s){const e=`facet-collapse-${this.uid}`;return X`
      ${t}
      <div
        id="${e}"
        class="facet-options facet-wrapper ${this.optionsOpen?"open":"closed"} c-bg-secondary s-margin-general-medium s-box-small-v s-box-small-h"
        role="region"
        aria-hidden="${!this.optionsOpen}"
      >
        ${this.optionsOpen?s:null}
      </div>
    `}_getResetElement(){const t=this._getFacetData();if(!this.showReset||!t.active_values||0===t.active_values.length)return X``;const s=this.resetText.replaceAll("@count",""+t.active_values.length),e=`Reset ${t.label} filters. Currently ${t.active_values.length} ${1===t.active_values.length?"filter is":"filters are"} selected.`;return X`<button
      class="${this.key} facet reset"
      @click="${()=>this.clearFacet(this.urlAlias)}"
      aria-label="${e}"
      type="button"
    >
      ${s}
    </button>`}shouldRender(){return!(!this.context?.response||void 0===this._getFacetData()||0===this._getFacetData().count)}render(){this.classList.add(this.safeIdentifier(this.key));const t=this._getFacetData();t&&t.count?this.classList.add("has-options"):this.classList.remove("has-options"),t&&t.active_values&&t.active_values.length>0?this.classList.add("is-active"):this.classList.remove("is-active"),this.optionsOpen?this.classList.remove("collapsed"):this.classList.add("collapsed")}}Tt([P()],Et.prototype,"key",void 0),Tt([P()],Et.prototype,"overrideLabel",void 0),Tt([P({type:Boolean})],Et.prototype,"showLabel",void 0),Tt([P({type:Boolean})],Et.prototype,"showCount",void 0),Tt([P({type:Boolean})],Et.prototype,"showReset",void 0),Tt([P()],Et.prototype,"resetText",void 0),Tt([P({type:Boolean})],Et.prototype,"closed",void 0),Tt([P({type:Boolean})],Et.prototype,"showCountInCollapseLabel",void 0),Tt([P({type:Boolean})],Et.prototype,"preferAttributes",void 0),Tt([P({attribute:!1})],Et.prototype,"urlAlias",void 0),Tt([P({type:Number})],Et.prototype,"softLimit",void 0),Tt([P()],Et.prototype,"softLimitLessLabel",void 0),Tt([P()],Et.prototype,"softLimitMoreLabel",void 0),Tt([T()],Et.prototype,"optionsOpen",void 0),Tt([T()],Et.prototype,"facetConfigLoaded",void 0),Tt([T()],Et.prototype,"facet",void 0),Tt([T()],Et.prototype,"showMoreOpen",void 0);var At=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let Ut=class extends Et{_getOptions(t=void 0){const s=this._getFacetData();let e=t??s.results;return void 0===t&&this.softLimit&&0!==this.softLimit&&!this.showMoreOpen&&(e=e.slice(0,this.softLimit)),X`
      <ul>
        ${Pt(e,(t=>t.key),(t=>{const s=["facet","button"];return t.active&&s.push("active"),t.in_active_trail&&s.push("active-trail"),t.children.length>0&&(s.push("has-children"),t.children_expanded?s.push("children-expanded"):s.push("children-hidden")),X`
              <li class="${s.join(" ")}">
                <button
                  class="${this.key}"
                  type="button"
                  name="${t.key}"
                  value="${t.key}"
                  aria-pressed="${t.active??!1}"
                  @click=${()=>this.applyFacet(this.urlAlias,t.key)}
                >${t.label}${this.showCount?` (${t.count})`:null}
              </li>
            `}))}
      </ul>
    `}render(){return super.render(),this.shouldRender()?this.wrapCollapsible(this._getCollapsibleLabelElement(),X`${this._getOptions()} ${this._getSoftLimitElement()}
      ${this._getResetElement()}`):null}};Ut=At([h("facet-button")],Ut);var Mt=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let qt=class extends Et{constructor(){super(...arguments),this.useRadios=!1,this.filterText="",this.showAllFacets=!1,this.lastFocusedFacetKey="",this.announceMessage="",this.FACET_LIMIT=10}updated(t){if(this.facetConfigLoaded||!this.context?.responseReady)return;super.updated(t);const s=this._getFacetData();this.useRadios=this._configOrAttribute(s?.settings.widget.useRadios,this.useRadios),this.lastFocusedFacetKey&&t.has("lastFocusedFacetKey")&&this._restoreFocusToFacet()}applyFacet(t,s,e=!1){this.lastFocusedFacetKey=s;const i=this._getFacetData().results.find((t=>t.key===s));if(i){const t=i.active?"removed":"selected";this.announceMessage=`${i.label} filter ${t}`,setTimeout((()=>{this.announceMessage=""}),1e3)}this.useRadios&&this.context?.query?.delete(`f[${t}]`),super.applyFacet(t,s,e)}_getActiveFacetsSection(){const t=this._getFacetData(),s=t.results.filter((t=>t.active));if(0===s.length)return X``;const e=`active-facets-${this.uid}`,i=`active-facets-list-${this.uid}`;return X`
      <section
        class="facet-active-section s-stack-medium"
        id="${e}"
        aria-labelledby="${e}-title"
        role="group"
      >
        <h3
          id="${e}-title"
          aria-hidden="true"
          class="facet-active-section-title t-label sr-only"
        >
          Active Filters (${s.length})
        </h3>
        <ul
          class="active-facets-list"
          id="${i}"
          aria-label="Currently selected ${t.label} filters"
          role="list"
        >
          ${Pt(s,(t=>t.key),(s=>this._renderOption(s,t,!1)))}
        </ul>
        <button
          class="uncheck-all-button t-label c-content-primary"
          @click=${()=>this.clearFacet(this.urlAlias)}
          aria-describedby="${i}"
          aria-label="Remove all selected ${t.label} filters"
        >
          Remove Selected
        </button>
      </section>
    `}_getOptions(t=void 0){const s=this._getFacetData();let e=t??s.results;if(void 0===t&&(e=e.filter((t=>!t.active))),void 0===t&&this.softLimit&&0!==this.softLimit&&!this.showMoreOpen&&(e=e.slice(0,this.softLimit)),this.filterText&&""!==this.filterText.trim()){const t=this.filterText.trim().toLowerCase();e=e.filter((s=>s.label.toLowerCase().includes(t)))}const i=e.length>this.FACET_LIMIT,r=e.length>this.FACET_LIMIT||""!==this.filterText,n=e.length>this.FACET_LIMIT&&!this.showAllFacets,o=n?e.slice(0,this.FACET_LIMIT):e,h=n?e.slice(this.FACET_LIMIT):[],a=`facet-search-${this.uid}`,l=`facet-search-input-${this.uid}`,c=`facet-options-${this.uid}`;return X`
      ${(t??s.results).length>this.FACET_LIMIT?X`
            <div class="facet-search s-stack-medium" role="search">
              <label
                for="${l}"
                class="facet-search-title t-label"
                id="${a}-label"
              >
                Search Filter
              </label>
              ${r?X` <input
                    id="${l}"
                    class="facet-search-box c-content-primary c-bg-secondary"
                    type="text"
                    placeholder="Search Term"
                    .value=${this.filterText}
                    aria-describedby="${a}-description"
                    aria-controls="${c}"
                    @input=${t=>{const s=t.target;this.filterText=s.value}}
                  />`:tt}
              <div id="${a}-description" class="sr-only">
                Type to filter the list of ${s.label} options below
              </div>
            </div>
          `:null}

      <ul
        id="${c}"
        class="facet-options-list"
        aria-label="${s.label} filter options"
        role="list"
      >
        ${Pt(o,(t=>t.key),(t=>this._renderOption(t,s,!1)))}
        ${Pt(h,(t=>t.key),(t=>this._renderOption(t,s,!0)))}
      </ul>
      ${i?X`<button
            @click=${()=>{this.showAllFacets=!this.showAllFacets}}
            class="facet-show-all t-label c-content-primary"
            aria-expanded="${this.showAllFacets}"
            aria-controls="${c}"
            aria-label="${this.showAllFacets?"Show fewer":"Show more"} ${s.label} options"
          >
            ${this.showAllFacets?"Show Less":"Show More"}
          </button>`:tt}
    `}_renderOption(t,s,e){const i=this.genUniqId(`${s.key}-${this.safeIdentifier(t.key)}`),r=this.useRadios?"radio":"checkbox",n=this.useRadios?`${s.key}-radio-group`:t.key,o=["facet"];this.useRadios?o.push("radio"):o.push("checkbox"),t.active&&o.push("active"),t.in_active_trail&&o.push("active-trail"),t.children.length>0&&(o.push("has-children"),t.children_expanded?o.push("children-expanded"):o.push("children-hidden"));const h=this.showCount?`${t.count} ${1===t.count?"result":"results"}`:null;return X`
      <li
        class="${o.join(" ")} s-stack-small"
        ?hidden=${e}
        role="listitem"
      >
        <input
          type="${r}"
          id=${i}
          name="${n}"
          value="${t.key}"
          .checked=${t.active??!1}
          ?checked=${t.active??!1}
          @click=${()=>this.applyFacet(this.urlAlias,t.key)}
          aria-describedby="${h?`${i}-count`:""}"
          @keydown=${this._handleOptionKeydown}
          aria-label="${t.label}"
        />
        <label for="${i}" aria-hidden="true">
          ${t.label}
          ${this.showCount?X`
                <span
                  id="${i}-count"
                  class="facet-count"
                  aria-label="${h}"
                  aria-hidden="true"
                >
                  (${t.count})
                </span>
              `:null}
        </label>
        ${t.children.length>0?this._getOptions(t.children):null}
      </li>
    `}_handleOptionKeydown(t){" "===t.key&&(t.preventDefault(),t.target.click())}_restoreFocusToFacet(){this.lastFocusedFacetKey&&requestAnimationFrame((()=>{const t=this._getFacetData(),s=this.genUniqId(`${t.key}-${this.safeIdentifier(this.lastFocusedFacetKey)}`),e=this.shadowRoot?.getElementById(s);e&&(e.focus(),this.lastFocusedFacetKey="")}))}render(){if(super.render(),!this.shouldRender())return null;const t=`${this._getFacetData().label} facet filter`;return this.wrapCollapsible(this._getCollapsibleLabelElement(),X`
        <div
          class="facet-wrapper"
          role="region"
          aria-label="${t}"
        >
          <!-- Live region for screen reader announcements -->
          <div aria-live="polite" aria-atomic="true" class="sr-only">
            ${this.announceMessage}
          </div>

          ${this._getActiveFacetsSection()} ${this._getOptions()}
          ${this._getSoftLimitElement()} ${this._getResetElement()}
        </div>
      `)}};Mt([P({type:Boolean})],qt.prototype,"useRadios",void 0),Mt([T()],qt.prototype,"filterText",void 0),Mt([T()],qt.prototype,"showAllFacets",void 0),Mt([T()],qt.prototype,"lastFocusedFacetKey",void 0),Mt([T()],qt.prototype,"announceMessage",void 0),qt=Mt([h("facet-checkbox")],qt);var Ft=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let Dt=class extends Et{constructor(){super(...arguments),this.selectLabel="Choose an option"}updated(t){if(this.facetConfigLoaded||!this.context?.responseReady)return;super.updated(t);const s=this._getFacetData();this.selectLabel=this._configOrAttribute(s?.settings.widget.selectLabel,this.selectLabel)}applyFacet(t,s,e=!1){s?super.applyFacet(t,s,e):this.clearFacet(t)}_getLabelElementSelect(){const t=this._getFacetData(),s=this.overrideLabel?this.overrideLabel:t.label;return X`<label
      for="facet-select-${this.uid}"
      class="facet-label ${t.key}"
      >${s}</label
    >`}_getOptionElement(t){return X` <option
      value=${t.key}
      ?selected=${t.active??!1}
    >
      ${t.label}${this.showCount?` (${t.count})`:null}
    </option>`}_getAllOptionsElements(){const t=this._getFacetData();return X`
      <option value="" ?selected="${(t.active_values?.length??0)<=0}">
        ${this.selectLabel}
      </option>
      ${Pt(t.results,(t=>t.key),(t=>X`${this._getOptionElement(t)}`))}
    `}_getSelectElement(){return X`
      <select
        id="facet-select-${this.uid}"
        @change="${t=>{const s=t.currentTarget;this.applyFacet(this.urlAlias,s.value,!0)}}"
      >
        ${this._getAllOptionsElements()}
      </select>
    `}render(){return super.render(),this.shouldRender()?this.wrapCollapsible(this._getCollapsibleLabelElement(),X`${this._getSelectElement()} ${this._getResetElement()}`):null}};Ft([P()],Dt.prototype,"selectLabel",void 0),Dt=Ft([h("facet-dropdown")],Dt);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Ht=(t,s)=>{const e=t._$AN;if(void 0===e)return!1;for(const t of e)t._$AO?.(s,!1),Ht(t,s);return!0},Bt=t=>{let s,e;do{if(void 0===(s=t._$AM))break;e=s._$AN,e.delete(t),t=s}while(0===e?.size)},Nt=t=>{for(let s;s=t._$AM;t=s){let e=s._$AN;if(void 0===e)s._$AN=e=new Set;else if(e.has(t))break;e.add(t),Wt(s)}};function It(t){void 0!==this._$AN?(Bt(this),this._$AM=t,Nt(this)):this._$AM=t}function zt(t,s=!1,e=0){const i=this._$AH,r=this._$AN;if(void 0!==r&&0!==r.size)if(s)if(Array.isArray(i))for(let t=e;t<i.length;t++)Ht(i[t],!1),Bt(i[t]);else null!=i&&(Ht(i,!1),Bt(i));else Ht(this,t)}const Wt=t=>{t.type==wt&&(t._$AP??=zt,t._$AQ??=It)};class Kt extends xt{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,s,e){super._$AT(t,s,e),Nt(this),this.isConnected=t._$AU}_$AO(t,s=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),s&&(Ht(this,t),Bt(this))}setValue(t){if((t=>void 0===t.strings)(this.t))this.t._$AI(t,this);else{const s=[...this.t._$AH];s[this.i]=t,this.t._$AI(s,this,0)}}disconnected(){}reconnected(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Vt=()=>new Jt;class Jt{}const Gt=new WeakMap,Zt=St(class extends Kt{render(t){return tt}update(t,[s]){const e=s!==this.Y;return e&&void 0!==this.Y&&this.rt(void 0),(e||this.lt!==this.ct)&&(this.Y=s,this.ht=t.options?.host,this.rt(this.ct=t.element)),tt}rt(t){if(this.isConnected||(t=void 0),"function"==typeof this.Y){const s=this.ht??globalThis;let e=Gt.get(s);void 0===e&&(e=new WeakMap,Gt.set(s,e)),void 0!==e.get(this.Y)&&this.Y.call(this.ht,void 0),e.set(this.Y,t),void 0!==t&&this.Y.call(this.ht,t)}else this.Y.value=t}get lt(){return"function"==typeof this.Y?Gt.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var Qt=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};const Xt=t=>{class s extends t{constructor(){super(...arguments),this.htmlSelectLabel="Choose an option",this.multipleSelect=!1,this.dropdownOpen=!1,this.required=!1,this.focusedOption=null,this.focusOnOpen=!1,this.searchTerm="",this.inputRef=Vt(),this.listboxRef=Vt(),this.selectActions={Close:0,CloseSelect:1,First:2,Last:3,Next:4,Open:5,PageDown:6,PageUp:7,Previous:8,Select:9,Type:10}}updated(t){super.updated(t),this.focusOnOpen&&(this._setOptionFocus(this._getNextOption(this.selectActions.First)),this.focusOnOpen=!1)}getHtmlLabel(){return""}getOptionId(t){const s=this.safeIdentifier(this.getOptionKey(t));return`option-${this.uid}-${s}`}getOptionKey(t){return""}getOptionValue(t){return""}getOptionLabel(t){return""}getAllOptions(){return[]}isOptionSelected(t){return!0}hasSelectedOptions(){return!1}getHtmlSelectLabel(){return this.htmlSelectLabel}optionMouseDown(t,s){t.preventDefault()}clearSelection(t){t.preventDefault()}applySelection(t){}getSelectedOptions(){return[]}filterOptions(t){return[]}_getHtmlLabelElement(){return this.getHtmlLabel()?X`<label id="combo-label-${this.uid}" class="combo-label"
            >${this.getHtmlLabel()}</label
          >`:X``}_getOptionElement(t){return X`
        <div
          role="option"
          id=${this.getOptionId(t)}
          class="combo-option ${this.isOptionSelected(t)?"selected":null}"
          aria-selected="${this.isOptionSelected(t)}"
          @mousedown=${s=>this.optionMouseDown(s,t)}
          data-value="${this.getOptionValue(t)}"
        >
          ${this.getOptionLabel(t)}
        </div>
      `}_getAllOptionsElements(){return X`
        <div
          role="option"
          id="select-label-${this.uid}"
          class="combo-option combo-option-label${this.required?" disabled":null}"
          aria-selected=${!this.hasSelectedOptions()}
          @mousedown=${this.required?null:this.clearSelection}
          aria-disabled="${this.required}"
        >
          ${this.htmlSelectLabel}
        </div>
        ${Pt(this.getAllOptions(),(t=>this.getOptionId(t)),(t=>this._getOptionElement(t)))}
      `}_getHtmlSelectLabelElement(){return X`
        <div
          ${Zt(this.inputRef)}
          id="combo-input-${this.uid}"
          role="combobox"
          tabindex="0"
          class="combo-input ${this.dropdownOpen?"open":null}"
          aria-controls="combo-listbox-${this.uid}"
          aria-expanded="${this.dropdownOpen}"
          aria-haspopup="listbox"
          aria-labelledby="combo-label-${this.uid}"
          @blur=${this.close}
          @focusout=${this.close}
          @click=${this.toggleDropdown}
          @keydown=${t=>this.onSelectKeyDown(t)}
        >
          ${this.getHtmlSelectLabel()}
        </div>
      `}_getHtmlSelectElement(){return X`
        <div
          ${Zt(this.listboxRef)}
          class="combo-options ${this.dropdownOpen?"open":null}"
          role="listbox"
          id="combo-listbox-${this.uid}"
          aria-labelledby="combo-label-${this.uid}"
          tabindex="-1"
        >
          ${this.dropdownOpen?this._getAllOptionsElements():null}
        </div>
      `}close(){this.dropdownOpen=!1,this.focusedOption=null}_getActionFromKey(t){const{key:s,altKey:e,ctrlKey:i,metaKey:r}=t;if(!this.dropdownOpen&&["ArrowDown","ArrowUp","Enter"," "].includes(s))return this.selectActions.Open;if("Home"===s)return this.selectActions.First;if("End"===s)return this.selectActions.Last;if("Backspace"===s||"Clear"===s||1===s.length&&" "!==s&&!e&&!i&&!r)return this.selectActions.Type;if(this.dropdownOpen){if("ArrowUp"===s&&e)return this.selectActions.CloseSelect;if("ArrowDown"===s&&!e)return this.selectActions.Next;if("ArrowUp"===s)return this.selectActions.Previous;if("PageUp"===s)return this.selectActions.PageUp;if("PageDown"===s)return this.selectActions.PageDown;if("Escape"===s)return this.selectActions.Close;if("Enter"===s||" "===s)return this.selectActions.CloseSelect}return-1}onSelectKeyDown(t){const{key:s}=t,e=this._getActionFromKey(t);switch(e){case this.selectActions.Last:case this.selectActions.First:case this.selectActions.Next:case this.selectActions.Previous:case this.selectActions.PageUp:case this.selectActions.PageDown:t.preventDefault(),this._setOptionFocus(this._getNextOption(e));break;case this.selectActions.CloseSelect:t.preventDefault(),this.applySelection(t),this.multipleSelect||this.close();break;case this.selectActions.Close:t.preventDefault(),this.dropdownOpen=!1;break;case this.selectActions.Type:this._typeSearch(s);break;case this.selectActions.Open:t.preventDefault(),this.focusOnOpen=!0,this.dropdownOpen=!0}}toggleDropdown(){const t=this.getSelectedOptions();this.dropdownOpen=!this.dropdownOpen,this.dropdownOpen?t.length>0&&this.inputRef.value?.setAttribute("aria-activedescendant",this.getOptionId(t[0])):this.inputRef.value?.removeAttribute("aria-activedescendant")}_typeSearch(t){this.dropdownOpen=!0;const s=this._getSearchTerm(t),e=this._searchOptions(s);if(!e)return window.clearTimeout(this.searchTimeout),void(this.searchTerm="");this._setOptionFocus(e)}_searchOptions(t){const s=this.filterOptions(t),e=t.split(""),i=e.every((t=>t===e[0]));if(0!==s.length||i){if(s[0])return this.getOptionId(s[0]);if(i){const t=this.filterOptions(e[0]);if(0===t.length)return;return this.getOptionId(t[(e.length-1)%t.length])}}}_getNextOption(t){const s=this.getAllOptions(),e=`select-label-${this.uid}`;if(!this.focusedOption)return e;let i=s.findIndex((t=>this.focusedOption?.id===this.getOptionId(t)));i=-1===i?0:i+1;const r=s.length+1;let n;switch(t){case this.selectActions.First:n=0;break;case this.selectActions.Last:n=r-1;break;case this.selectActions.Previous:n=Math.max(0,i-1);break;case this.selectActions.Next:n=Math.min(r,i+1);break;case this.selectActions.PageUp:n=Math.max(0,i-10);break;case this.selectActions.PageDown:n=Math.min(r-1,i+10);break;default:n=i}return 0===n?e:this.getOptionId(s[n-1])}_getSearchTerm(t){return"number"==typeof this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.searchTimeout=window.setTimeout((()=>{this.searchTerm=""}),500),this.searchTerm+=t,this.searchTerm}_elementInView(t){const s=this.querySelector(`#${t}`);if(!s)return!0;var e=s.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}_isScrollable(){const t=this.listboxRef.value;return void 0!==t&&t.clientHeight<t.scrollHeight}_maintainScrollVisibility(t){const s=this.querySelector(`#${t}`),e=this.listboxRef.value;if(!e)return;const{offsetHeight:i,offsetTop:r}=s,{offsetHeight:n,scrollTop:o}=e,h=r+i>o+n;r<o?e.scrollTo(0,r):h&&e.scrollTo(0,r-n+i)}_setOptionFocus(t){this.focusedOption=this.querySelector(`#${t}`),this.inputRef.value?.setAttribute("aria-activedescendant",t),this.listboxRef.value?.querySelectorAll(".focused")?.forEach((t=>{t.classList.remove("focused")})),this.focusedOption?.classList.add("focused"),this._isScrollable()&&this._maintainScrollVisibility(t),this._elementInView(t)||this.focusedOption?.scrollIntoView({behavior:"smooth",block:"nearest"}),this.inputRef.value?.focus()}}return Qt([P()],s.prototype,"htmlSelectLabel",void 0),Qt([P({type:Boolean})],s.prototype,"multipleSelect",void 0),Qt([T()],s.prototype,"dropdownOpen",void 0),Qt([P({type:Boolean})],s.prototype,"required",void 0),Qt([T()],s.prototype,"focusedOption",void 0),Qt([T()],s.prototype,"focusOnOpen",void 0),Qt([T()],s.prototype,"searchTimeout",void 0),Qt([T()],s.prototype,"searchTerm",void 0),s};var Yt=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let ts=class extends(Xt(Et)){updated(t){if(this.facetConfigLoaded||!this.context?.responseReady)return;super.updated(t);const s=this._getFacetData();this.htmlSelectLabel=this._configOrAttribute(s?.settings.widget.htmlSelectLabel,this.htmlSelectLabel),this.required=this._configOrAttribute(s?.settings.widget.required,this.required),this.multipleSelect=this._configOrAttribute(s?.settings.widget.multipleSelect,this.multipleSelect)}applyFacet(t,s,e=!1){super.applyFacet(t,s,!this.multipleSelect),this.multipleSelect||this.close()}getHtmlLabel(){return this.overrideLabel?this.overrideLabel:this._getFacetData().label}getOptionKey(t){return t.key}getOptionValue(t){return t.key}getOptionLabel(t){return`${t.label}${this.showCount?` (${t.count})`:""}`}getAllOptions(){return this._getFacetData().results}isOptionSelected(t){return t.active??!1}hasSelectedOptions(){return(this._getFacetData()?.active_values?.length??0)>0}getHtmlSelectLabel(){if(this.hasSelectedOptions()){return this.getSelectedOptions().map((t=>t.label)).join(", ")}return this.htmlSelectLabel}optionMouseDown(t,s){t.preventDefault(),this.applyFacet(this.urlAlias,s.key)}clearSelection(t){t.preventDefault(),this.clearFacet(this.urlAlias),this.close()}applySelection(t){this.focusedOption&&this.focusedOption.dataset.value?this.applyFacet(this.urlAlias,this.focusedOption.dataset.value):(this.clearFacet(this.urlAlias),this.close())}getSelectedOptions(){return this._getFacetData().results.filter((t=>t.active))}filterOptions(t){return this.getAllOptions().filter((s=>s.label.toLowerCase().startsWith(t)))}render(){return super.render(),this.shouldRender()?this.wrapCollapsible(this._getCollapsibleLabelElement(),X`
        <div class="html-dropdown-container">
          ${this._getHtmlSelectLabelElement()} ${this._getHtmlSelectElement()}
          ${this._getResetElement()}
        </div>
      `):null}};ts=Yt([h("facet-dropdown-html")],ts);var ss=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let es=class extends mt{constructor(){super(...arguments),this.removeText="Remove @value",this.resetText="Reset (@count)",this.showReset=!1,this.showIndividual=!1}_getApplied(){const t=[],s=this?.context?.query;return s?(this.context?.response&&this.context.response.facets.forEach((e=>{s.getAll(`f[${e.settings.url_alias}]`).forEach((s=>{t.push({key:e.settings.url_alias,facetKey:e.settings.url_alias,value:s})}))})),t):t}_getResetElement(){return X`
      <li class="applied reset">
        <button class="applied-button-reset" @click=${()=>this.clearFacets()}>
          ${this.resetText.replaceAll("@count",""+this._getApplied().length)}
        </button>
      </li>
    `}_getIndividualFacets(t){return X`
      ${Pt(t,(t=>`${t.key}:${t.value}`),(t=>{const s=this.removeText.replace("@value",t.value);return X`
            <li class="applied facet">
              <div @click=${()=>this.applyFacet(t.facetKey,t.value)}>
                ${t.value}
              </div>
              <button
                @click=${()=>this.applyFacet(t.facetKey,t.value)}
                class="applied-button-remove"
              >
                ${s}
              </button>
            </li>
          `}))}
    `}render(){if(!this.context?.response)return null;const t=this._getApplied();return 0===t.length?null:X`
      <ul class="applied-facets">
        ${this.showIndividual?this._getIndividualFacets(t):null}
        ${this.showReset?this._getResetElement():null}
      </ul>
    `}};ss([P()],es.prototype,"removeText",void 0),ss([P()],es.prototype,"resetText",void 0),ss([P({type:Boolean})],es.prototype,"showReset",void 0),ss([P({type:Boolean})],es.prototype,"showIndividual",void 0),es=ss([h("search-applied-facets")],es);var is=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let rs=class extends mt{constructor(){super(...arguments),this.url="",this.submitText="Search",this.ariaLabelText="",this.placeHolderText="",this.componentLabelText=""}createRenderRoot(){return this.style.display="block",this}_submit(t){if(t.preventDefault(),t.currentTarget instanceof Element){const s=t?.currentTarget?.querySelector("input")?.value?.trim(),e=new URLSearchParams;e.set("q",s||""),this.getResults(e)}}render(){return X`
      <form id="swc-search-box"
        class="search-box s-box-large-h s-box-medium-v c-bg-secondary s-margin-general-medium"
        @submit="${t=>this._submit(t)}"
      >
        <h2 class="t-title-small t-uppercase s-stack-small">
          ${this.componentLabelText}
        </h2>
        <div class="search-box-action-area c-bg-secondary">
          <input
            class="search-box-input t-body-medium c-content-primary c-bg-secondary"
            type="text"
            placeholder="${this.placeHolderText}"
            aria-label="${this.ariaLabelText}"
          ></input>
          <button class="search-box-submit" type="submit">
            <div class="sr-only">${this.submitText}</div>
          </button>
        </div>
      </form>
    `}};is([P({attribute:!0})],rs.prototype,"url",void 0),is([P({attribute:!0})],rs.prototype,"submitText",void 0),is([P({attribute:!0})],rs.prototype,"ariaLabelText",void 0),is([P({attribute:!0})],rs.prototype,"placeHolderText",void 0),is([P({attribute:!0})],rs.prototype,"componentLabelText",void 0),rs=is([h("search-box")],rs);var ns=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let os=class extends mt{constructor(){super(...arguments),this.placeHolderText="",this.labelText="",this.clearText="Remove"}_querySearch(t){t.preventDefault();const s=this.querySelector("input"),e=s?.value.trim(),i=new URLSearchParams;e?i.set("q",e):i.delete("q"),this.getResults(i)}_clearSearch(){const t=new URLSearchParams;this.getResults(t)}render(){return X`
      <form class="search-input" @submit="${this._querySearch}">
        <span>
          <input
            class="search-input-input"
            type="text"
            .value="${this?.context?.query?.get("q")??""}"
            placeholder="${this.placeHolderText}"
          />
          ${this?.context?.query?.get("q")?X`<button
                class="search-input-clear"
                type="button"
                @click=${()=>{this._clearSearch()}}
              >
                ${this.clearText}
              </button>`:null}
        </span>
        <button class="search-input-submit" type="submit">
          ${this.labelText}
        </button>
      </form>
    `}};ns([P()],os.prototype,"placeHolderText",void 0),ns([P()],os.prototype,"labelText",void 0),ns([P()],os.prototype,"clearText",void 0),os=ns([h("search-input")],os);var hs=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let as=class extends mt{createRenderRoot(){return this.style.display="none",this}render(){if(!this.context?.responseReady)return null;const t=this.context?.response?.search_results_count;return t?(this.classList.add("no-results-hidden"),this.classList.remove("no-results-visible"),this.style.setProperty("display","none")):(this.classList.add("no-results-visible"),this.classList.remove("no-results-hidden"),this.style.removeProperty("display")),""}};as=hs([h("search-no-results-message")],as);var ls=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let cs=class extends mt{constructor(){super(...arguments),this.data={}}render(){return X`
      <details open style="overflow-x: scroll">
        <summary>Item</summary>
        <pre>${JSON.stringify(this.data,null,2)}</pre>
      </details>
    `}};ls([P({attribute:!0,type:Object})],cs.prototype,"data",void 0),cs=ls([h("search-result-element-default")],cs);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class ds extends xt{constructor(t){if(super(t),this.it=tt,t.type!==wt)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===tt||null==t)return this._t=void 0,this.it=t;if(t===Y)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this._t;this.it=t;const s=[t];return s.raw=s,this._t={_$litType$:this.constructor.resultType,strings:s,values:[]}}}ds.directiveName="unsafeHTML",ds.resultType=1;const us=St(ds);var ps=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let bs=class extends mt{constructor(){super(...arguments),this.settings={},this.data={}}render(){return this?.settings?.field&&this.data&&this.data[this?.settings?.field]?X`${us(this.data[this?.settings.field])}`:null}};ps([P({type:Object})],bs.prototype,"settings",void 0),ps([P({type:Object})],bs.prototype,"data",void 0),bs=ps([h("search-result-element-rendered")],bs);var vs=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let $s=class extends mt{constructor(){super(...arguments),this.summaryText="@start - @end of @total"}_getNumbers(){const t=this.context?.response?.search_results_page??0,s=parseInt(this.context?.response?.search_results_per_page?this.context?.response.search_results_per_page:this.context?.defaultPerPage),e=this.context?.response?.search_results_count,i=t*s,r={start:0,end:0,total:e};r.start=0===e?0:t*s+1;const n=+i+s;return r.end=n>e?e:n,r}_getSummaryElement(){const t=this._getNumbers();if(0===t.total)return X`Showing 0 results.`;const s=this.context?.response?.took?this.context?.response?.took/1e3:"",e=this.summaryText.replaceAll("@start","Showing "+t.start).replaceAll("@end",""+t.end).replaceAll("@total",t.total+(1===t.total?" result":" results")).replaceAll("@searchQuery",this.context?.query?.get("q")??"").replaceAll("@time",""+s);return X`${e}`}render(){return this.context?.response?X`<div>${this._getSummaryElement()}</div>`:null}};vs([P()],$s.prototype,"summaryText",void 0),$s=vs([h("search-result-summary")],$s);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const fs=Symbol.for(""),ms=t=>{if(t?.r===fs)return t?._$litStatic$},gs=new Map,ys=(t=>(s,...e)=>{const i=e.length;let r,n;const o=[],h=[];let a,l=0,c=!1;for(;l<i;){for(a=s[l];l<i&&void 0!==(n=e[l],r=ms(n));)a+=r+s[++l],c=!0;l!==i&&h.push(n),o.push(a),l++}if(l===i&&o.push(s[i]),c){const t=o.join("$$lit$$");void 0===(s=gs.get(t))&&(o.raw=o,gs.set(t,s=o)),e=h}return t(s,...e)})(X);var ws=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let Ss=class extends mt{constructor(){super(...arguments),this.resultField="",this.mappings=[],this.configLoaded=!1,this.processedMappings={}}updated(t){!this.configLoaded&&this.context?.responseReady&&(this.resultField||(this.resultField=this.context.response?.swc_results.field??""),0===this.mappings.length&&(this.mappings=this.context.response?.swc_results.mappings??[]),this.mappings.forEach((t=>{t.keys.forEach((s=>{this.processedMappings[s]={element:t.element,settings:t.settings}}))})),this.configLoaded=!0)}_mapResult(t){return this.processedMappings[`${t[this.resultField]}-${this.context?.resultDisplay}`]?this.processedMappings[`${t[this.resultField]}-${this.context?.resultDisplay}`]:this.processedMappings[`default-${this.context?.resultDisplay}`]?this.processedMappings[`default-${this.context?.resultDisplay}`]:this.processedMappings[t[this.resultField]]?this.processedMappings[t[this.resultField]]:this.processedMappings.default?this.processedMappings.default:void console.warn("No element mapping found for: ",t)}_getResults(){const t=this.context?.response?.search_results??[];return 0===t.length?ys`
        <div
          class="no-results s-box-medium-v s-box-medium-h c-bg-secondary s-margin-general-large"
        >
          <div class="title s-margin-general-medium">
            <h2 class="t-title-medium s-stack-small">No records found</h2>
            <p>
              <span>There are no results matching your search term. </span>
            </p>
          </div>
          <div class="refine-search wysiwyg-editor">
            <h3 class="t-title-small">Suggestions</h3>
            <ul>
              <li>Check your spelling</li>
              <li>Try more general keywords.</li>
              <li>Try different keywords that mean the same thing</li>
            </ul>
          </div>
        </div>
      `:ys`
      <div>
        <ul class="${this.context?.resultDisplay}">
          ${Pt(t,(t=>t.id),(t=>{const s=this._mapResult(t);return s?customElements.get(s.element)?ys`<li
                class="search-result result-${this.safeIdentifier(t[this.resultField]??"default")} s-margin-general-medium"
              >
                <${(t=>({_$litStatic$:t,r:fs}))(s.element)}
                  .data=${t}
                  .settings=${s.settings}
                />
              </li>`:(console.warn(s.element+" is not defined as a custom element for element mapping:",t),null):null}))}
        </ul>
      </div>
    `}render(){return this.configLoaded?ys`${this._getResults()} `:null}};ws([P()],Ss.prototype,"resultField",void 0),ws([P({type:Object})],Ss.prototype,"mappings",void 0),ws([T()],Ss.prototype,"configLoaded",void 0),ws([T()],Ss.prototype,"processedMappings",void 0),Ss=ws([h("search-results")],Ss);var xs=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let ks=class extends mt{constructor(){super(...arguments),this.settings={},this.data={}}render(){const t=this.settings.id,s=this.settings.title,e=this.settings.thumbnail,i=this.settings.fields,r=this.settings.base_path,n=this?.context?.query?.get("q");let o;t in this.data&&(o=this.data[t].trim(),this.data[t].includes("solr_document")&&(o=this.data[t].replace("solr_document/","")),o=n?o+"?q="+n:o);let h=this.data[s],a=this.data[e];const l=Object.entries(i).map((([t,s],e)=>{const i=this.data[s.key];if(null==i||""===i||Array.isArray(i)&&0===i.length)return null;let r=("string"==typeof t&&t||s&&s.label||"").trim();if(!r){r=["Item type:","Collection:","Date:"][e]||""}return{label:"true"==s.show_label?t:r,value:i,field:s,template:"true"==s.show_label?Array.isArray(i)&&null!=s.facet_link_pattern?X` <div class="t-label">
                    <dt class="t-bold">${t}:</dt>
                    <dd>
                      ${Pt(i,(t=>t),((t,e)=>X`<a href="${s.facet_link_pattern}${t}"
                              >${t}</a
                            >
                            ${e<i.length-1?", ":""}`))}
                    </dd>
                  </div>`:Array.isArray(i)?X`<div class="t-label">
                    <dt class="t-bold">${t}:</dt>
                    <dd>
                      ${Pt(i,(t=>t),((t,s)=>X`${t}${s<i.length-1?", ":""}`))}
                    </dd>
                  </div>`:X`<div class="t-label">
                    <dt class="t-bold">${t}:</dt>
                    <dd>${i??us(i)}</dd>
                  </div>`:X`<div class="t-label">
                  <dt class="t-bold">${r}</dt>
                  <dd>${i??us(i)}</dd>
                </div>`}})).filter((t=>null!=t)),c=l[0],d=l.slice(1),u=r&&o?l.map((t=>t.template)):d.map((t=>t.template));Array.isArray(h)&&(h=h.map((t=>t.startsWith("[@")?t.split("]")[1]:t)),h=h.join(" | ")),Array.isArray(a)&&(a=a[0]);const p=Object.values(i)[0]?.key,b=p?this.data[p]:"";return X`
      <article>
        <div class="item-detail">
          ${r&&o?X`
                <h2 class="item-title t-title-small s-stack-small">
                  <a href="${r+o}"
                    ><span class="sr-only">Title:</span>${h}
                  </a>
                </h2>
              `:c?X`
                <h2 class="item-title t-title-small s-stack-small">
                  ${Array.isArray(c.value)?c.field.facet_link_pattern?Pt(c.value,(t=>t),(t=>X`
                              <a
                                href="${c.field.facet_link_pattern}${t}"
                              >
                                ${c.label}${c.label?": ":""}
                                ${t}</a
                              >
                            `)):Pt(c.value,(t=>t),(t=>X`${c.label}${c.label?": ":""}${t}`)):us(c.value)}
                </h2>
              `:""}
          ${X`<dl class="item-fields">${u}</dl>`}
        </div>
        ${e&&a&&"static:unavailable"!==a?X`<img
              src="${a}"
              alt="${b}"
              class="s-inline-small"
              onerror="
              this.onerror=null;
              this.src='/assets/placeholder-image.svg';
              this.classList.add('image-error', 't-label', 't-italic');
              this.alt='.   ${b} - image not found';"
            />`:tt}
      </article>
    `}};xs([P({type:Object})],ks.prototype,"settings",void 0),xs([P({attribute:!0,type:Object})],ks.prototype,"data",void 0),ks=xs([h("search-result-element-umd-libraries")],ks);var Os=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let _s=class extends(Xt(mt)){constructor(){super(...arguments),this.required=!0,this.type="select",this.labelText="Per page",this.options=[],this.indexConfigLoaded=!1}updated(t){!this.indexConfigLoaded&&this.context?.responseReady&&(this.indexConfigLoaded=!0,0===this.options.length&&this.context.response?.swc_page_sizes&&(this.options=this.context.response?.swc_page_sizes))}_queryPerPage(t){const s=new URLSearchParams(this.context?.query?.toString()??""),e=""+this?.context?.defaultPerPage,i=""+this?.context?.response?.search_results_per_page;t?s.set("limit",t):s.set("limit",e),t!==i&&s.delete("page"),t===e&&s.delete("limit"),this.getResults(s)}_getSelected(){const t=""+this?.context?.defaultPerPage,s=""+this?.context?.response?.search_results_per_page;let e=this.options.find((s=>s.key===t));return this.context?.response?.search_results_per_page&&(e=this.options.find((t=>t.key===s))),e}_getSelectOption(){return X` ${Pt(this.options,(t=>t.key),(t=>X`<option
          value=${t.key}
          ?selected=${this._getSelected()?.key===t.key}
        >
          ${t.label}
        </option>`))}`}_getListOption(){return X` ${Pt(this.options,(t=>t.key),(t=>X`<li>
          <button
            class="${this._getSelected()?.key===t.key?"selected":null}"
            value=${t.key}
            @click=${s=>{s.preventDefault(),this._queryPerPage(""+t.key)}}
          >
            ${t.label}
          </button>
        </li>`))}`}_getSelect(){return X`
      ${this.labelText?X`<label for="per-page-${this.uid}">${this.labelText}</label>`:null}
      <select
        id="per-page-${this.uid}"
        name="result count"
        @change="${t=>{t.preventDefault();const s=t.currentTarget.value;this._queryPerPage(s)}}"
        required
      >
        ${this._getSelectOption()}
      </select>
    `}_getList(){return X`
      ${this.labelText?X`<label for="per-page-${this.uid}">${this.labelText}</label>`:null}
      <ul id="sort-${this.uid}">
        ${this._getListOption()}
      </ul>
    `}_getHtml(){return X`
      ${this._getHtmlLabelElement()}
      <div class="html-dropdown-container">
        ${this._getHtmlSelectLabelElement()} ${this._getHtmlSelectElement()}
      </div>
    `}render(){if(0===this.options.length||!this.context?.response)return null;switch(this.type){case"select":return this._getSelect();case"list":return this._getList();case"html":return this._getHtml()}}getHtmlLabel(){return this.labelText}getOptionKey(t){return t.key?""+t.key:""+t.value}getOptionValue(t){return t.value?""+t.value:""+t.key}getOptionLabel(t){return""+t.label}getAllOptions(){return this.options}isOptionSelected(t){const s=this._getSelected();return!!s&&this.getOptionValue(s)===this.getOptionValue(t)}hasSelectedOptions(){return!!this._getSelected()}getHtmlSelectLabel(){return this._getSelected()?""+this._getSelected()?.label:this.htmlSelectLabel}optionMouseDown(t,s){t.preventDefault(),this._queryPerPage(""+this.getOptionValue(s)),this.close()}applySelection(t){this.focusedOption&&this.focusedOption.dataset.value&&this._queryPerPage(this.focusedOption.dataset.value)}getSelectedOptions(){const t=this._getSelected();return t?[t]:[]}filterOptions(t){return this.getAllOptions().filter((s=>(""+s.label).toLowerCase().startsWith(t)))}};Os([P()],_s.prototype,"type",void 0),Os([P()],_s.prototype,"labelText",void 0),Os([P({type:Array})],_s.prototype,"options",void 0),Os([T()],_s.prototype,"indexConfigLoaded",void 0),_s=Os([h("search-results-per-page")],_s);var Ls=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let Rs=class extends mt{constructor(){super(...arguments),this.options=[],this.indexConfigLoaded=!1}updated(t){!this.indexConfigLoaded&&this.context?.responseReady&&(this.indexConfigLoaded=!0,0===this.options.length&&this.context.response?.swc_displays&&(this.options=this.context.response?.swc_displays))}_getOptionElement(t){return ys`<li>
      <button
        name="${t.key}"
        class="${t.key} ${t.key===this.context?.resultDisplay?"selected":""}"
        aria-pressed="${t.key===this.context?.resultDisplay}"
        @click="${()=>{const s={...this.context};s.resultDisplay=""+t.key,this.updateContext(s)}}"
      >
        ${t.label}
      </button>
    </li>`}_getAllOptions(){return ys` <ul>
      ${Pt(this.options,(t=>t.key),(t=>ys`${this._getOptionElement(t)}`))}
    </ul>`}render(){return ys`${this._getAllOptions()} `}};Ls([P({type:Object})],Rs.prototype,"options",void 0),Ls([T()],Rs.prototype,"indexConfigLoaded",void 0),Rs=Ls([h("search-results-switcher")],Rs);var Cs=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let js=class extends mt{constructor(){super(...arguments),this.prevLabel="<",this.nextLabel=">",this.showNextPrev=!1,this.showFirstLast=!1,this.firstLabel="First page",this.lastLabel="Last page",this.pagesToDisplay=void 0,this.firstLastPagesToDisplay=0}_changePage(t){const s=new URLSearchParams(this.context?.query?.toString()??"");0!==t?s.set("page",""+t):s.delete("page"),this.getResults(s)}_getCurrentPageElement(){const t=this.context?.response?.search_results_page??0;return ys`<button class="page current" aria-pressed="true">
      ${t+1}
    </button>`}_getPrevNextButtonElement(t,s,e,i,r){return ys`
      <button
        class=${e}
        ?disabled=${i}
        @click=${()=>this._changePage(s)}
        aria-label=${i?`${t} page button disabled`:`Go to ${t} page`}
      >
        ${"next"===r?ys`${t}<span class="i-chevron"></span>`:ys`<span class="i-chevron"></span>${t}`}
      </button>
    `}_getWrappingPagesElements(){const t=[],s=[],e=this.context?.response?.search_results_page??0,i=this.context?.response?.search_results_pages??0,r=(!this.firstLastPagesToDisplay||0!==e&&e!==i-1?this.pagesToDisplay:this.firstLastPagesToDisplay)??0;for(let n=1;n<=r;n++)e-n>=0&&t.unshift(this._getPrevNextButtonElement(e-n+1,e-n,"prev page",!1,"prev")),e+n<i&&s.push(this._getPrevNextButtonElement(e+n+1,e+n,"next page",!1,"next"));return{prev:t,next:s}}_getWrappingButtonElements(){const t=this.context?.response?.search_results_page??0,s=this.context?.response?.search_results_pages??0,e=ys` ${this.showNextPrev?this._getPrevNextButtonElement(this.prevLabel,t-1,"prev button umd-lib secondary",0===t,"prev"):null}`;return{next:ys` ${this.showNextPrev?this._getPrevNextButtonElement(this.nextLabel,t+1,"next button umd-lib secondary",t===s-1,"next"):null}`,prev:e,first:ys` ${this.showFirstLast?ys`<button
          class="first button"
          @click=${()=>this._changePage(0)}
          ?disabled=${0===t}
        >
          ${this.firstLabel}
        </button>`:null}`,last:ys` ${this.showFirstLast?ys`<button
          class="last button"
          @click=${()=>this._changePage(s-1)}
          ?disabled=${t===s-1}
        >
          ${this.lastLabel}
        </button>`:null}`}}_getResultPaginationElements(){const t=this.context?.response?.search_results_page??0,s=this.context?.response?.search_results_pages??0;return ys`
      <div>
        <span class="sr-only"
          >Page navigation: Enter page number, currently on page
          ${t+1} of ${s}</span
        >
        <label for="results-pagination" aria-hidden="true" class="t-body-small"
          >Go to page</label
        >
        <input
          class="t-interactive c-border-secondary c-content-primary"
          type="number"
          id="results-pagination"
          name="page"
          min="1"
          max="${s}"
          value="${t+1}"
          aria-label="Enter page number, from 1 to ${s}"
        />
        <span aria-hidden="true" class="t-body-small">of ${s}</span>
        <button
          @click=${()=>{const e=this.renderRoot.querySelector("#results-pagination"),i=e?parseInt(e.value,10):t+1;!isNaN(i)&&i>=1&&i<=s&&this._changePage(i-1)}}
          aria-label="Go to page number entered in the input box"
          class="umd-lib button"
        >
          Go
        </button>
      </div>
    `}render(){if(void 0===this.context||!this.context.responseReady||1===this.context.response?.search_results_pages||0===this.context.response?.search_results_pages)return;const t=this._getWrappingButtonElements();return ys`
      <nav class="pager" aria-label="Result navigation">
        <div
          class="pagination__status t-body-small s-stack-small"
          id="page-context"
        >
          Currently on Page
          ${"number"==typeof this.context?.response?.search_results_page?this.context.response.search_results_page+1:0}
          of
          ${"number"==typeof this.context?.response?.search_results_pages?this.context.response.search_results_pages:0}
        </div>
        <div class="pagination__actions">
          <ul class="pagination__action buttons">
            <li>${t.prev}</li>
            <li>${t.next}</li>
          </ul>
          <div class="pagination__action go-to-result-page">
            ${this._getResultPaginationElements()}
          </div>
        </div>
      </nav>
    `}};Cs([P()],js.prototype,"prevLabel",void 0),Cs([P()],js.prototype,"nextLabel",void 0),Cs([P({type:Boolean})],js.prototype,"showNextPrev",void 0),Cs([P({type:Boolean})],js.prototype,"showFirstLast",void 0),Cs([P()],js.prototype,"firstLabel",void 0),Cs([P()],js.prototype,"lastLabel",void 0),Cs([P({type:Number})],js.prototype,"pagesToDisplay",void 0),Cs([P({type:Number})],js.prototype,"firstLastPagesToDisplay",void 0),js=Cs([h("search-simple-pager")],js);var Ps=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let Ts=class extends(Xt(mt)){constructor(){super(...arguments),this.required=!0,this.type="select",this.labelText="Sort",this.sorts=[],this.umd_sorts={sort_by:[],order:[],results_per:[],post:!1},this.indexConfigLoaded=!1}updated(t){!this.indexConfigLoaded&&this.context?.responseReady&&(this.indexConfigLoaded=!0,0===this.sorts.length&&this.context.response?.swc_sorts&&(this.sorts=this.context.response?.swc_sorts))}_querySort(t,s,e){const i=new URLSearchParams(this.context?.query?.toString()??"");t&&(i.set("sort",t),i.set("order",s)),e&&i.set("limit",e),t===this.context?.response?.default_sort&&i.delete("sort"),s===this.context?.response?.default_sort_order&&i.delete("order"),this.getResults(i)}_getSelected(){let t=this.context?.query?.get("sort")+"|"+this.context?.query?.get("order");"null|null"===t&&(t=this.context?.response?.default_sort+"|"+this.context?.response?.default_sort_order);let s={label:"Relevance",key:"search_api_relevance",order:"desc"};return this.sorts.find((s=>`${s.key}|${s.order}`===t))&&(s=this.sorts.find((s=>`${s.key}|${s.order}`===t))),s}_getSelectOptions(){const t=this._getSelected(),s=t?.key+"|"+t?.order;return X`${Pt(this.sorts,(t=>t.key),(t=>{const e=t.key+"|"+t.order;return X`<option value=${e} ?selected=${e===s}>
          ${t.label}
        </option>`}))}`}_getListOptions(){const t=this._getSelected(),s=t?.key+"|"+t?.order;return X`${Pt(this.sorts,(t=>t.key),(t=>{const e=t.key+"|"+t.order,i=e===s;return X`<li role="none">
          <button
            type="button"
            role="radio"
            class="${i?"selected":null}"
            value=${e}
            aria-checked="${i}"
            aria-label="Sort by ${t.label}"
            @click=${s=>{s.preventDefault(),this._querySort(t.key,t.order)}}
            @keydown=${s=>{"Enter"!==s.key&&" "!==s.key||(s.preventDefault(),this._querySort(t.key,t.order))}}
          >
            ${t.label}
            ${i?X`<span class="sr-only"> (currently selected)</span>`:""}
          </button>
        </li>`}))}`}_getSelect(){const t=this._getSelected(),s=`sort-desc-${this.uid}`;return X`
      ${this.labelText?X`<label for="sort-${this.uid}">${this.labelText}</label>`:null}
      <div
        id="${s}"
        class="sr-only"
        aria-live="polite"
        aria-atomic="true"
      >
        ${t?`Currently sorted by ${t.label}`:"No sort applied"}
      </div>
      <select
        id="sort-${this.uid}"
        name="sort"
        aria-describedby="${s}"
        aria-label="${this.labelText||"Sort options"}"
        @change="${t=>{t.preventDefault();const s=t.currentTarget,[e,i]=s.value.split("|");this._querySort(e,i)}}"
        required
      >
        ${this._getSelectOptions()}
      </select>
    `}_getList(){const t=this._getSelected(),s=`sort-list-desc-${this.uid}`;return X`
      ${this.labelText?X`<div class="sort-label" id="sort-label-${this.uid}">
            ${this.labelText}
          </div>`:null}
      <div
        id="${s}"
        class="sr-only"
        aria-live="polite"
        aria-atomic="true"
      >
        ${t?`Currently sorted by ${t.label}`:"No sort applied"}
      </div>
      <ul
        id="sort-${this.uid}"
        role="radiogroup"
        aria-labelledby="sort-label-${this.uid}"
        aria-describedby="${s}"
      >
        ${this._getListOptions()}
      </ul>
    `}_getHtml(){return X`
      ${this._getHtmlLabelElement()}
      <div class="html-dropdown-container">
        ${this._getHtmlSelectLabelElement()} ${this._getHtmlSelectElement()}
      </div>
    `}_sortTemplates(t,s,e){const i=`${s}-${this.uid}`,r=`${s}-help-${this.uid}`;return X`
      <div class="sort-option s-stack-small">
        <label for="${i}" class="t-label c-content-primary">
          ${t}
        </label>
        <div id="${r}" class="sr-only">
          Select ${t.toLowerCase()} from the available options
        </div>
        <select
          id="${i}"
          name="${s}"
          required
          class="c-bg-secondary"
          aria-describedby="${r}"
          aria-label="${t}"
        >
          ${e.map((t=>{if(t.includes(":")){const[s,e]=t.split(":");return X` <option value="${e}">${s}</option> `}return X` <option value="${t}">${t}</option> `}))}
        </select>
      </div>
    `}_getCustom(){const t=this.umd_sorts.sort_by,s=this.umd_sorts.order,e=this.umd_sorts.results_per,i=`sort-status-${this.uid}`,r=`sort-form-${this.uid}`,n=[];return n.push(this._sortTemplates("Sort By","sort_by",t)),n.push(this._sortTemplates("Order","order",s)),n.push(this._sortTemplates("Results Per Page","results",e)),X`
      <div
        class="search-sort c-bg-secondary s-margin-general-medium s-box-small-v s-box-small-h"
        role="region"
        aria-labelledby="sort-title-${this.uid}"
      >
        <div
          id="sort-title-${this.uid}"
          class="sort-title t-title-small t-uppercase s-stack-medium c-content-primary"
        >
          Sort & Display
        </div>
        <div
          id="${i}"
          class="sr-only"
          aria-live="polite"
          aria-atomic="true"
        >
          Sort and display options form
        </div>
        <form
          id="${r}"
          class="sort-options s-stack-medium"
          aria-describedby="${i}"
        >
          ${n}
        </form>
        <button
          type="submit"
          class="umd-lib button secondary"
          aria-describedby="${i}"
          @click=${t=>{t.preventDefault();const s=document.getElementById(`sort_by-${this.uid}`)?.value??"",e=document.getElementById(`order-${this.uid}`)?.value??"",r=document.getElementById(`results-${this.uid}`)?.value??"";this._querySort(s,e,r);const n=document.getElementById(i);n&&(n.textContent=`Applied sort: ${s} in ${e} order, showing ${r} results per page`)}}
          @keydown=${t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),t.target.click())}}
        >
          Apply
        </button>
      </div>
    `}render(){if(0===this.sorts.length||!this.context?.response)return null;switch(this.type){case"select":return this._getSelect();case"list":return this._getList();case"html":return this._getHtml();case"umd-libraries":return this._getCustom()}}getHtmlLabel(){return this.labelText}getOptionKey(t){return`${t.key}-${t.order}`}getOptionValue(t){return`${t.key}|${t.order}`}getOptionLabel(t){return""+t.label}getAllOptions(){return this.sorts}isOptionSelected(t){const s=this._getSelected();return!!s&&this.getOptionValue(s)===this.getOptionValue(t)}hasSelectedOptions(){return!!this._getSelected()}getHtmlSelectLabel(){return this._getSelected()?""+this._getSelected()?.label:this.htmlSelectLabel}optionMouseDown(t,s){t.preventDefault(),this._querySort(s.key,s.order),this.close()}applySelection(t){if(this.focusedOption&&this.focusedOption.dataset.value){const[t,s]=this.focusedOption.dataset.value.split("|");this._querySort(t,s)}}getSelectedOptions(){const t=this._getSelected();return t?[t]:[]}filterOptions(t){return this.getAllOptions().filter((s=>(""+s.label).toLowerCase().startsWith(t)))}};Ps([P()],Ts.prototype,"type",void 0),Ps([P()],Ts.prototype,"labelText",void 0),Ps([P({type:Array})],Ts.prototype,"sorts",void 0),Ps([P({type:Object})],Ts.prototype,"umd_sorts",void 0),Ps([T()],Ts.prototype,"indexConfigLoaded",void 0),Ts=Ps([h("search-sort")],Ts);var Es=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let As=class extends mt{constructor(){super(...arguments),this.aboveBreakpointText="Filters",this.dialogOpenText="Filters",this.dialogCloseText="Close",this.showAppliedCount=!1,this.showButton=!1}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",(()=>{this._handleResize()}))}disconnectedCallback(){window.removeEventListener("resize",(()=>{this._handleResize()})),super.disconnectedCallback()}updated(t){super.updated(t),this._handleResize()}_handleResize(){this.context?.dialogBreakpoint&&(-1===this.context?.dialogBreakpoint||window.innerWidth<=this.context.dialogBreakpoint)?this.showButton=!0:this.showButton=!1}_getLabelText(){return this.showButton?X`${this.context?.dialogOpen?this.dialogCloseText:this.dialogOpenText}`:X`${this.aboveBreakpointText}`}render(){return void 0!==this.context&&this.context.responseReady?this.showButton?X`
          <button
            class="search-dialog-toggle-button"
            @click=${()=>{if(this.context){const t=this.context;t.dialogOpen=!this.context?.dialogOpen,this.updateContext(t)}}}
          >
            ${this._getLabelText()}
          </button>
        `:X`<div class="search-dialog-toggle-div">
          ${this._getLabelText()}
        </div>`:void 0}};Es([P()],As.prototype,"aboveBreakpointText",void 0),Es([P()],As.prototype,"dialogOpenText",void 0),Es([P()],As.prototype,"dialogCloseText",void 0),Es([P()],As.prototype,"showAppliedCount",void 0),Es([T()],As.prototype,"showButton",void 0),As=Es([h("search-dialog-toggle")],As);var Us=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let Ms=class extends mt{constructor(){super(...arguments),this.closeText="Close",this.closePosition="top",this.modal=!1,this.useDialog=!1}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",(()=>{this._handleResize()}))}disconnectedCallback(){window.removeEventListener("resize",(()=>{this._handleResize()})),super.disconnectedCallback()}_handleResize(){this.context?.dialogBreakpoint&&(-1===this.context?.dialogBreakpoint||window.innerWidth<=this.context.dialogBreakpoint)?this.useDialog=!0:this.useDialog=!1}updated(t){super.updated(t),this._handleResize()}_toggleDialog(t,s){"open"===s&&(this.modal?t.showModal():t.show()),"close"===s&&t.close()}_closeDialog(){this.context&&(this.context.dialogOpen=!1,this.updateContext(this.context))}render(){if(!this.context?.responseReady)return null;this.context.dialogOpen?(this.classList.add("search-dialog-pane-visible"),this.classList.remove("search-dialog-pane-hidden")):(this.classList.add("search-dialog-pane-hidden"),this.classList.remove("search-dialog-pane-visible"));const t=this.querySelector(":scope > dialog");if(this.useDialog&&!t){const t=document.createElement("dialog");for(t.addEventListener("cancel",(()=>this._closeDialog())),t.addEventListener("close",(()=>this._closeDialog()));this.children.length>0;)this.firstChild&&t.appendChild(this.firstChild);const s=document.createElement("button");if(s.innerText=this.closeText,s.classList.add("close-button"),"top"===this.closePosition||"both"===this.closePosition){const e=s.cloneNode(!0);e.addEventListener("click",(()=>this._toggleDialog(t,"close"))),e.classList.add("top"),t.prepend(e)}if("bottom"===this.closePosition||"both"===this.closePosition){const e=s.cloneNode(!0);e.addEventListener("click",(()=>this._toggleDialog(t,"close"))),e.classList.add("bottom"),t.append(e)}this.appendChild(t),this.context.dialogOpen?this._toggleDialog(t,"open"):this._toggleDialog(t,"close")}else if(this.useDialog&&t)this.context.dialogOpen?this._toggleDialog(t,"open"):this._toggleDialog(t,"close");else if(!this.useDialog&&t){for(t.querySelectorAll(":scope > .close-button").forEach((s=>{t.removeChild(s)}));t.children.length>0;)t.firstChild&&this.insertBefore(t.firstChild,t);this.removeChild(t),this.context.dialogOpen=!1,this.updateContext(this.context)}return null}};Us([P()],Ms.prototype,"closeText",void 0),Us([P()],Ms.prototype,"closePosition",void 0),Us([P({type:Boolean})],Ms.prototype,"modal",void 0),Us([T()],Ms.prototype,"useDialog",void 0),Ms=Us([h("search-dialog-pane")],Ms);var qs=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let Fs=class extends mt{constructor(){super(...arguments),this.queryText=""}connectedCallback(){super.connectedCallback(),document.addEventListener("update-context",(t=>{this.queryText=decodeURIComponent(t.context.query.toString()),"q="===this.queryText&&(this.queryText=""),this.queryText.startsWith("q=&")&&(this.queryText=this.queryText.replace("q=&",""))})),setTimeout((()=>{if(window.ClipboardJS){const t=new window.ClipboardJS(".share-button"),s=this.renderRoot.querySelector("#clipboardjs-alert"),e=this.renderRoot.querySelector("#copy-error");t.on("success",(function(){s&&(s.innerHTML='\n              <div class="clipboardjs-alert-content s-margin-general-small" aria-label="Copy Alert" role="alert">\n                <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n                  <path d="M11.6663 3.5L5.24967 9.91667L2.33301 7" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                </svg>\n                <span class="t-label">Share Link Copied</span>\n              </div>\n            ',setTimeout((()=>{s.innerHTML=""}),5e3))})),t.on("error",(function(t){let s="",i="cut"===t.action?"X":"C";s=/iPhone|iPad/i.test(navigator.userAgent)?"This device does not support HTML5 Clipboard Copying. Please copy manually.":/Mac/i.test(navigator.userAgent)?`Press ⌘-${i} to ${t.action}`:`Press Ctrl-${i} to ${t.action}`,e&&(e.innerHTML=`\n              <div class="clipboardjs-alert-content s-margin-general-small" aria-label="Copy Error" role="alert">\n                <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n                  <path d="M6.00245 2.25179L1.06162 10.5001C0.959749 10.6765 0.905848 10.8765 0.905278 11.0803C0.904708 11.284 0.957487 11.4843 1.05837 11.6613C1.15925 11.8382 1.30471 11.9857 1.48028 12.089C1.65585 12.1923 1.85542 12.2479 2.05912 12.2501H11.9408C12.1445 12.2479 12.344 12.1923 12.5196 12.089C12.6952 11.9857 12.8407 11.8382 12.9415 11.6613C13.0424 11.4843 13.0952 11.284 13.0946 11.0803C13.0941 10.8765 13.0402 10.6765 12.9383 10.5001L7.99745 2.25179C7.89346 2.08035 7.74704 1.93861 7.57232 1.84024C7.39759 1.74186 7.20046 1.69019 6.99995 1.69019C6.79944 1.69019 6.60231 1.74186 6.42759 1.84024C6.25286 1.93861 6.10644 2.08035 6.00245 2.25179Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>\n                  <path d="M7 5.25V7.58333" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>\n                  <path d="M7 9.91675H7.00583" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>\n                </svg>\n                <span class="t-label">${s}</span>\n              </div>\n            `,setTimeout((()=>{e.innerHTML=""}),5e3))}))}}),0)}getShareUrl(){return window.location.href.replace(/(\?.*)$/,"")+(this.queryText?"?"+decodeURIComponent(this.queryText):"")}render(){return X`
      <div class="share-container">
        <div class="action-function">
          Share this search results?
          <button
            class="share-button umd-lib button secondary"
            aria-label="Share search results"
            data-clipboard-text="${this.getShareUrl()}"
          >
            Copy Link
          </button>
        </div>
        <div class="action-feedback" aria-live="polite" aria-atomic="true">
          <div id="clipboardjs-alert"></div>
          <div id="copy-error"></div>
        </div>
      </div>
    `}};qs([P()],Fs.prototype,"queryText",void 0),Fs=qs([h("search-share")],Fs);var Ds,Hs=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let Bs=Ds=class extends vt{constructor(){super(...arguments),this.context={query:new URLSearchParams(window.location.search),responseReady:!1,resultsCount:"5",response:{total:0,page:0,per_page:0,no_results_link:"",module_link:"",query:"",endpoint:"",results:[]}},this.searchEndpoint="",this.resultsCount="5",this.noResultsLink="",this.noResultsMessage="",this.blockTitle="",this.blockDescription="",this.bottomLinkText="",this.blockIcon="",this.root=new n}createRenderRoot(){return this.style.display="block",this}updateLinkIcons(){try{const t=window.location;this.querySelectorAll(".bento-search .emphasized-link a").forEach((s=>{const e=s.querySelector("span");e&&(s.host&&s.host!==t.host?(e.classList.remove("i-chevron"),e.classList.add("i-external-arrow")):(e.classList.remove("i-external-arrow"),e.classList.add("i-chevron")))}))}catch(t){console.error("updateLinkIcons error",t)}}updated(t){super.updated(t),this.updateLinkIcons()}async connectedCallback(){super.connectedCallback();const t={...this.context};if(document.addEventListener("update-context",(t=>{const s=decodeURIComponent(t.context.query.toString()),e=new URLSearchParams(s);e.has("q")&&null!=e.get("q")?.trim&&(this.getResults(e),console.log(e))})),t.resultsCount=this.resultsCount,t.query||(t.query=new URLSearchParams),0==t.query.size)return;let s=t.query;s.set("per_page",this.resultsCount),t.response=await Ds.doSearch(this.searchEndpoint,s),t.responseReady=!0,this.context=t,this.addEventListener("update-context",(t=>{this.context={...this.context,...t.context}}))}async getResults(t){t.set("per_page",this.resultsCount);const s={...this.context};s.query=t;let e=t;[s.response]=await Promise.all([Ds.doSearch(this.searchEndpoint,e)]),this.context={...s}}static async doSearch(t,s){const e=new URLSearchParams(s.toString());let i=0;for(const[t,r]of s.entries()){if(!t.startsWith("f["))continue;e.delete(t);let s=t.replace("f[","");s=s.substring(0,s.length-1),e.append(`f[${i}]`,`${s}:${r}`),i++}const r=new URL(t);return r.search=e.toString(),Ds.doFetch(r,void 0).then((t=>t))}static async doFetch(t,s=void 0){const e=new Headers(s);return fetch(t,{headers:e,cache:"no-store"}).then((async t=>{const s=await t.text();if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}. Message:${s}`);return Promise.resolve(JSON.parse(s))})).catch((t=>console.error("Error in fetching:",t)))}render(){const t=this.context.response.results,s=this.context.response.total,e=this.bottomLinkText.replace("%total%",s.toString()),i=[];return t.forEach((function(t){const s=t,e=s.extra,r=s.title,n=s.link,o=s.item_format,h=s.description,a=s.author,l=s.availability,c=s.date;i.push(X`
        <li class="bento-search-result-item s-box-small-v s-box-small-h">
          <article>
            <div class="item-detail">
              ${r?X`<h3 class="item-title t-title-small">
                    ${n?X` <a href="${n}"
                          ><span class="sr-only">Title:</span>${r}
                        </a>`:X`${r}`}
                  </h3>`:""}
              ${h?X`<p class="sr-only">description</p>
                    <p class="t-body-small s-stack-small">${h}</p>`:""}
              <dl class="item-fields">
                ${o?X`<div class="t-label">
                      <dt class="t-bold">Item format:</dt>
                      <dd>${o}</dd>
                    </div>`:""}
                ${a?X`<div class="t-label">
                      <dt class="t-bold">Author:</dt>
                      <dd>${a}</dd>
                    </div>`:""}
                ${l?X`<div class="t-label">
                      <dt class="t-bold">Availability:</dt>
                      <dd>${l}</dd>
                    </div>`:""}
                ${c?X`<div class="t-label">
                      <dt class="t-bold">Date:</dt>
                      <dd>${c}</dd>
                    </div>`:""}
                ${e?.collection?X`<div class="t-label">
                      <dt class="t-bold">Collection</dt>
                      <dd>${e.collection}</dd>
                    </div>`:""}
              </dl>
            </div>
          </article>
        </li>
      `)})),X`
      <div>
        <section class="bento-search c-border-tertiary s-margin-general-medium">
          <div
            class="bento-search-header dark-theme c-content-primary c-bg-primary s-box-small-v s-box-small-h"
          >
            <div class="bento-search-header-icon-container" aria-hidden="true">
              <i
                data-lucide="${this.blockIcon}"
                class="bento-search-header-icon"
              ></i>
            </div>
            <h2 class="t-title-medium">
              <a
                id="${this.context.response.endpoint}"
                href="${this.noResultsLink||this.context.response.no_results_link}"
                >${this.blockTitle}</a
              >
            </h2>
          </div>
          <p
            class="description t-label c-content-secondary c-bg-tertiary s-box-small-h"
          >
            ${this.blockDescription}
          </p>
          ${i.length>0?X` <ul>
                  ${i}
                </ul>
                <div class="bento-search-footer">
                  ${e?X`<div class="s-box-small-v s-box-small-h">
                        <div class="umd-lib emphasized-link">
                          <a
                            href="${this.context.response.module_link}"
                            class="emphasized-link--text t-body-small t-interactive-sub c-content-primary c-underline-primary ani-underline"
                          >
                            <span class="i-chevron"></span>${e}
                          </a>
                        </div>
                      </div>`:""}
                </div>`:X` <div class="bento-search-footer">
                ${this.noResultsMessage?X` <div class="s-box-small-v s-box-small-h">
                      <div class="umd-lib emphasized-link">
                        <a
                          href="${this.noResultsLink||this.context.response.no_results_link}"
                          class="emphasized-link--text t-body-small t-interactive-sub c-content-primary c-underline-primary ani-underline"
                        >
                          <span class="i-chevron"></span>${this.noResultsMessage}
                        </a>
                      </div>
                    </div>`:""}
              </div>`}
        </section>
      </div>
    `}};Hs([T()],Bs.prototype,"context",void 0),Hs([P()],Bs.prototype,"searchEndpoint",void 0),Hs([P()],Bs.prototype,"resultsCount",void 0),Hs([P()],Bs.prototype,"noResultsLink",void 0),Hs([P()],Bs.prototype,"noResultsMessage",void 0),Hs([P()],Bs.prototype,"blockTitle",void 0),Hs([P()],Bs.prototype,"blockDescription",void 0),Hs([P()],Bs.prototype,"bottomLinkText",void 0),Hs([P()],Bs.prototype,"blockIcon",void 0),Bs=Ds=Hs([h("standalone-search-results")],Bs);var Ns=function(t,s,e,i){for(var r,n=arguments.length,o=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,h=t.length-1;h>=0;h--)(r=t[h])&&(o=(n<3?r(o):n>3?r(s,e,o):r(s,e))||o);return n>3&&o&&Object.defineProperty(s,e,o),o};let Is=class extends mt{render(){return X`
      <div class="search-result-toolbar s-margin-general-medium">
        <search-result-summary></search-result-summary>
        <search-share></search-share>
      </div>
    `}};Is=Ns([h("search-result-toolbar")],Is);var zs={BaseSearchElement:mt,SearchRoot:yt,FacetButton:Ut,FacetCheckbox:qt,FacetDropdown:Dt,FacetDropdownHtml:ts,SearchAppliedFacets:es,SearchBox:rs,SearchInput:os,SearchNoResultsMessage:as,SearchResultElementDefault:cs,SearchResultElementRendered:bs,SearchResultSummary:$s,SearchResults:Ss,SearchResultsPerPage:_s,SearchResultsSwitcher:Rs,SearchSimplePager:js,SearchSort:Ts,SearchDialogPane:Ms,SearchDialogToggle:As,SearchResultElementUMDLibraries:ks,SearchShare:Fs,SearchResultToolbar:Is,StandAloneSearchResults:Bs};export{zs as default};
